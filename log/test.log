  [1m[35m (108.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "demoapp2_test"[0m
  [1m[35m (489.3ms)[0m  [1m[35mCREATE DATABASE "demoapp2_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (1.8ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "reading_statistics" CASCADE[0m
  [1m[35m (12.1ms)[0m  [1m[35mCREATE TABLE "reading_statistics" ("id" bigserial primary key, "thermostat_id" integer, "number_of_readings" integer DEFAULT 0, "stemperature" float DEFAULT 0.0, "shumidity" float DEFAULT 0.0, "sbattery_charge" float DEFAULT 0.0, "atemperature" float DEFAULT 0.0, "ahumidity" float DEFAULT 0.0, "abattery_charge" float DEFAULT 0.0, "max_temperature" float DEFAULT 0.0, "max_humidity" float DEFAULT 0.0, "max_battery_charge" float DEFAULT 0.0, "min_temperature" float, "min_humidity" float, "min_battery_charge" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "readings" CASCADE[0m
  [1m[35m (10.2ms)[0m  [1m[35mCREATE TABLE "readings" ("id" bigserial primary key, "thermostat_id" integer, "tracking_number" integer, "temperature" float DEFAULT 0.0, "humidity" float DEFAULT 0.0, "battery_charge" float DEFAULT 0.0, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE  INDEX  "index_readings_on_thermostat_id" ON "readings"  ("thermostat_id")[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE  INDEX  "index_readings_on_tracking_number" ON "readings"  ("tracking_number")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "thermostats" CASCADE[0m
  [1m[35m (10.9ms)[0m  [1m[35mCREATE TABLE "thermostats" ("id" bigserial primary key, "household_token" text NOT NULL, "location" jsonb DEFAULT '{}' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE  INDEX  "index_thermostats_on_household_token" ON "thermostats"  ("household_token")[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE  INDEX  "index_thermostats_on_location" ON "thermostats"  ("location")[0m
  [1m[35m (7.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20190703184032)[0m
  [1m[35m (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20190703183404),
(20190703183638);

[0m
  [1m[35m (8.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2019-07-03 19:04:56.372292"], ["updated_at", "2019-07-03 19:04:56.372292"]]
  [1m[35m (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.6ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', NULL, '2019-07-03 19:05:44.107832', '2019-07-03 19:05:44.107832'), (298486374, 'MyText', NULL, '2019-07-03 19:05:44.107832', '2019-07-03 19:05:44.107832');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.116354', '2019-07-03 19:05:44.116354'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.116354', '2019-07-03 19:05:44.116354');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.120544', '2019-07-03 19:05:44.120544'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.120544', '2019-07-03 19:05:44.120544')[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', NULL, '2019-07-03 19:05:44.200313', '2019-07-03 19:05:44.200313'), (298486374, 'MyText', NULL, '2019-07-03 19:05:44.200313', '2019-07-03 19:05:44.200313');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.200504', '2019-07-03 19:05:44.200504'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.200504', '2019-07-03 19:05:44.200504');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.200621', '2019-07-03 19:05:44.200621'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.200621', '2019-07-03 19:05:44.200621')[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.9ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', NULL, '2019-07-03 19:05:44.242037', '2019-07-03 19:05:44.242037'), (298486374, 'MyText', NULL, '2019-07-03 19:05:44.242037', '2019-07-03 19:05:44.242037');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.242211', '2019-07-03 19:05:44.242211'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.242211', '2019-07-03 19:05:44.242211');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.242310', '2019-07-03 19:05:44.242310'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.242310', '2019-07-03 19:05:44.242310')[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.3ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', NULL, '2019-07-03 19:05:44.275365', '2019-07-03 19:05:44.275365'), (298486374, 'MyText', NULL, '2019-07-03 19:05:44.275365', '2019-07-03 19:05:44.275365');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.275543', '2019-07-03 19:05:44.275543'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.275543', '2019-07-03 19:05:44.275543');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.275649', '2019-07-03 19:05:44.275649'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.275649', '2019-07-03 19:05:44.275649')[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.0ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', NULL, '2019-07-03 19:05:44.307429', '2019-07-03 19:05:44.307429'), (298486374, 'MyText', NULL, '2019-07-03 19:05:44.307429', '2019-07-03 19:05:44.307429');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.307539', '2019-07-03 19:05:44.307539'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.307539', '2019-07-03 19:05:44.307539');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.307600', '2019-07-03 19:05:44.307600'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.307600', '2019-07-03 19:05:44.307600')[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.1ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', NULL, '2019-07-03 19:05:44.341789', '2019-07-03 19:05:44.341789'), (298486374, 'MyText', NULL, '2019-07-03 19:05:44.341789', '2019-07-03 19:05:44.341789');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.341953', '2019-07-03 19:05:44.341953'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.341953', '2019-07-03 19:05:44.341953');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.342063', '2019-07-03 19:05:44.342063'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.342063', '2019-07-03 19:05:44.342063')[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.3ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', NULL, '2019-07-03 19:05:44.386076', '2019-07-03 19:05:44.386076'), (298486374, 'MyText', NULL, '2019-07-03 19:05:44.386076', '2019-07-03 19:05:44.386076');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.386237', '2019-07-03 19:05:44.386237'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.386237', '2019-07-03 19:05:44.386237');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.386346', '2019-07-03 19:05:44.386346'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.386346', '2019-07-03 19:05:44.386346')[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', NULL, '2019-07-03 19:05:44.418055', '2019-07-03 19:05:44.418055'), (298486374, 'MyText', NULL, '2019-07-03 19:05:44.418055', '2019-07-03 19:05:44.418055');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.418161', '2019-07-03 19:05:44.418161'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.418161', '2019-07-03 19:05:44.418161');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.418220', '2019-07-03 19:05:44.418220'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.418220', '2019-07-03 19:05:44.418220')[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.4ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', NULL, '2019-07-03 19:05:44.447485', '2019-07-03 19:05:44.447485'), (298486374, 'MyText', NULL, '2019-07-03 19:05:44.447485', '2019-07-03 19:05:44.447485');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.447618', '2019-07-03 19:05:44.447618'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.447618', '2019-07-03 19:05:44.447618');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.447735', '2019-07-03 19:05:44.447735'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.447735', '2019-07-03 19:05:44.447735')[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.1ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', NULL, '2019-07-03 19:05:44.481440', '2019-07-03 19:05:44.481440'), (298486374, 'MyText', NULL, '2019-07-03 19:05:44.481440', '2019-07-03 19:05:44.481440');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.481830', '2019-07-03 19:05:44.481830'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.481830', '2019-07-03 19:05:44.481830');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.482086', '2019-07-03 19:05:44.482086'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.482086', '2019-07-03 19:05:44.482086')[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', NULL, '2019-07-03 19:05:44.527638', '2019-07-03 19:05:44.527638'), (298486374, 'MyText', NULL, '2019-07-03 19:05:44.527638', '2019-07-03 19:05:44.527638');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.527806', '2019-07-03 19:05:44.527806'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.527806', '2019-07-03 19:05:44.527806');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.527910', '2019-07-03 19:05:44.527910'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.527910', '2019-07-03 19:05:44.527910')[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.7ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.9ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', NULL, '2019-07-03 19:05:44.559488', '2019-07-03 19:05:44.559488'), (298486374, 'MyText', NULL, '2019-07-03 19:05:44.559488', '2019-07-03 19:05:44.559488');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.559610', '2019-07-03 19:05:44.559610'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.559610', '2019-07-03 19:05:44.559610');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.559682', '2019-07-03 19:05:44.559682'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.559682', '2019-07-03 19:05:44.559682')[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', NULL, '2019-07-03 19:05:44.601652', '2019-07-03 19:05:44.601652'), (298486374, 'MyText', NULL, '2019-07-03 19:05:44.601652', '2019-07-03 19:05:44.601652');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.601856', '2019-07-03 19:05:44.601856'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.601856', '2019-07-03 19:05:44.601856');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.601986', '2019-07-03 19:05:44.601986'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.601986', '2019-07-03 19:05:44.601986')[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (3.6ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', NULL, '2019-07-03 19:05:44.638109', '2019-07-03 19:05:44.638109'), (298486374, 'MyText', NULL, '2019-07-03 19:05:44.638109', '2019-07-03 19:05:44.638109');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.638279', '2019-07-03 19:05:44.638279'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.638279', '2019-07-03 19:05:44.638279');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.638414', '2019-07-03 19:05:44.638414'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.638414', '2019-07-03 19:05:44.638414')[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.1ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', NULL, '2019-07-03 19:05:44.680037', '2019-07-03 19:05:44.680037'), (298486374, 'MyText', NULL, '2019-07-03 19:05:44.680037', '2019-07-03 19:05:44.680037');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.680245', '2019-07-03 19:05:44.680245'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.680245', '2019-07-03 19:05:44.680245');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.680393', '2019-07-03 19:05:44.680393'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:05:44.680393', '2019-07-03 19:05:44.680393')[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.5ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', NULL, '2019-07-03 19:14:30.791100', '2019-07-03 19:14:30.791100'), (298486374, 'MyText', NULL, '2019-07-03 19:14:30.791100', '2019-07-03 19:14:30.791100');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:14:30.799987', '2019-07-03 19:14:30.799987'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:14:30.799987', '2019-07-03 19:14:30.799987');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:14:30.807427', '2019-07-03 19:14:30.807427'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:14:30.807427', '2019-07-03 19:14:30.807427')[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', NULL, '2019-07-03 19:15:38.057764', '2019-07-03 19:15:38.057764'), (298486374, 'MyText', NULL, '2019-07-03 19:15:38.057764', '2019-07-03 19:15:38.057764');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:15:38.065704', '2019-07-03 19:15:38.065704'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:15:38.065704', '2019-07-03 19:15:38.065704');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:15:38.069511', '2019-07-03 19:15:38.069511'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:15:38.069511', '2019-07-03 19:15:38.069511')[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.9ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', NULL, '2019-07-03 19:16:48.117326', '2019-07-03 19:16:48.117326'), (298486374, 'MyText', NULL, '2019-07-03 19:16:48.117326', '2019-07-03 19:16:48.117326');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:16:48.124367', '2019-07-03 19:16:48.124367'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:16:48.124367', '2019-07-03 19:16:48.124367');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:16:48.131272', '2019-07-03 19:16:48.131272'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:16:48.131272', '2019-07-03 19:16:48.131272')[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.7ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:18:00.168837', '2019-07-03 19:18:00.168837'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:18:00.168837', '2019-07-03 19:18:00.168837');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:18:00.174610', '2019-07-03 19:18:00.174610'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:18:00.174610', '2019-07-03 19:18:00.174610');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:18:00.180486', '2019-07-03 19:18:00.180486'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:18:00.180486', '2019-07-03 19:18:00.180486')[0m
  [1m[35m (4.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
ThermostatTest: test_should_not_save_thermostats_without_household_token
------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.5ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:21:22.817087', '2019-07-03 19:21:22.817087'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:21:22.817087', '2019-07-03 19:21:22.817087');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:21:22.822389', '2019-07-03 19:21:22.822389'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:21:22.822389', '2019-07-03 19:21:22.822389');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:21:22.827650', '2019-07-03 19:21:22.827650'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:21:22.827650', '2019-07-03 19:21:22.827650')[0m
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ThermostatTest: test_should_create_thermostat
---------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
ThermostatTest: test_should_not_save_thermostats_without_household_token_and_location
-------------------------------------------------------------------------------------
  [1m[35m (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
ThermostatTest: test_thermostat_count
-------------------------------------
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (3.5ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:21:34.564882', '2019-07-03 19:21:34.564882'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:21:34.564882', '2019-07-03 19:21:34.564882');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:21:34.571498', '2019-07-03 19:21:34.571498'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:21:34.571498', '2019-07-03 19:21:34.571498');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:21:34.578037', '2019-07-03 19:21:34.578037'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:21:34.578037', '2019-07-03 19:21:34.578037')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
ThermostatTest: test_thermostat_count
-------------------------------------
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ThermostatTest: test_should_create_thermostat
---------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.8ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:21:34.629224"], ["updated_at", "2019-07-03 19:21:34.629224"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
ThermostatTest: test_should_not_save_thermostats_without_household_token_and_location
-------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.5ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:26:56.711081', '2019-07-03 19:26:56.711081'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:26:56.711081', '2019-07-03 19:26:56.711081');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:26:56.717247', '2019-07-03 19:26:56.717247'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:26:56.717247', '2019-07-03 19:26:56.717247');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:26:56.722780', '2019-07-03 19:26:56.722780'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:26:56.722780', '2019-07-03 19:26:56.722780')[0m
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ReadingTest: test_create_reading_record
---------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (3.1ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:29:31.192794', '2019-07-03 19:29:31.192794'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:29:31.192794', '2019-07-03 19:29:31.192794');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:29:31.200948', '2019-07-03 19:29:31.200948'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:29:31.200948', '2019-07-03 19:29:31.200948');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:29:31.205176', '2019-07-03 19:29:31.205176'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:29:31.205176', '2019-07-03 19:29:31.205176')[0m
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ReadingTest: test_create_reading_record
---------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.5ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (2.0ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:30:32.659999', '2019-07-03 19:30:32.659999'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:30:32.659999', '2019-07-03 19:30:32.659999');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:30:32.693059', '2019-07-03 19:30:32.693059'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:30:32.693059', '2019-07-03 19:30:32.693059');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:30:32.697924', '2019-07-03 19:30:32.697924'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:30:32.697924', '2019-07-03 19:30:32.697924')[0m
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------
ReadingTest: test_Reading_count
-------------------------------
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ReadingTest: test_create_reading_record
---------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.2ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (3.3ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:31:02.670612', '2019-07-03 19:31:02.670612'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:31:02.670612', '2019-07-03 19:31:02.670612');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:31:02.677229', '2019-07-03 19:31:02.677229'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:31:02.677229', '2019-07-03 19:31:02.677229');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:31:02.683362', '2019-07-03 19:31:02.683362'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:31:02.683362', '2019-07-03 19:31:02.683362')[0m
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------
ReadingTest: test_Reading_count
-------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ReadingTest: test_create_reading_record
---------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.2ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (2.6ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:31:23.455121', '2019-07-03 19:31:23.455121'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:31:23.455121', '2019-07-03 19:31:23.455121');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:31:23.461697', '2019-07-03 19:31:23.461697'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:31:23.461697', '2019-07-03 19:31:23.461697');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:31:23.467749', '2019-07-03 19:31:23.467749'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:31:23.467749', '2019-07-03 19:31:23.467749')[0m
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------
ReadingTest: test_Reading_count
-------------------------------
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ReadingTest: test_create_reading_record
---------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.3ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:32:10.641527', '2019-07-03 19:32:10.641527'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:32:10.641527', '2019-07-03 19:32:10.641527');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:32:10.649610', '2019-07-03 19:32:10.649610'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:32:10.649610', '2019-07-03 19:32:10.649610');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:32:10.653414', '2019-07-03 19:32:10.653414'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:32:10.653414', '2019-07-03 19:32:10.653414')[0m
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ReadingTest: test_create_reading_record
---------------------------------------
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------
ReadingTest: test_Reading_count
-------------------------------
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (2.5ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:33:05.090532', '2019-07-03 19:33:05.090532'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:33:05.090532', '2019-07-03 19:33:05.090532');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:33:05.096213', '2019-07-03 19:33:05.096213'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:33:05.096213', '2019-07-03 19:33:05.096213');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:33:05.103129', '2019-07-03 19:33:05.103129'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:33:05.103129', '2019-07-03 19:33:05.103129')[0m
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ReadingTest: test_create_reading_record
---------------------------------------
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
-------------------------------
ReadingTest: test_Reading_count
-------------------------------
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.4ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:33:46.591487', '2019-07-03 19:33:46.591487'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:33:46.591487', '2019-07-03 19:33:46.591487');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:33:46.597499', '2019-07-03 19:33:46.597499'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:33:46.597499', '2019-07-03 19:33:46.597499');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:33:46.602316', '2019-07-03 19:33:46.602316'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:33:46.602316', '2019-07-03 19:33:46.602316')[0m
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------
ReadingTest: test_Reading_count
-------------------------------
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ReadingTest: test_create_reading_record
---------------------------------------
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.4ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:33:59.287014', '2019-07-03 19:33:59.287014'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:33:59.287014', '2019-07-03 19:33:59.287014');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:33:59.295075', '2019-07-03 19:33:59.295075'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:33:59.295075', '2019-07-03 19:33:59.295075');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:33:59.299591', '2019-07-03 19:33:59.299591'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:33:59.299591', '2019-07-03 19:33:59.299591')[0m
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------
ReadingTest: test_Reading_count
-------------------------------
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ReadingTest: test_create_reading_record
---------------------------------------
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.3ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:34:32.954469', '2019-07-03 19:34:32.954469'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:34:32.954469', '2019-07-03 19:34:32.954469');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:34:32.959934', '2019-07-03 19:34:32.959934'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:34:32.959934', '2019-07-03 19:34:32.959934');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:34:32.965274', '2019-07-03 19:34:32.965274'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:34:32.965274', '2019-07-03 19:34:32.965274')[0m
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ReadingTest: test_create_reading_record
---------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (1.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:34:33.009757"], ["updated_at", "2019-07-03 19:34:33.009757"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mReading Create (0.8ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190963], ["tracking_number", 1], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 19:34:33.040298"], ["updated_at", "2019-07-03 19:34:33.040298"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------
ReadingTest: test_Reading_count
-------------------------------
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:36:03.423207', '2019-07-03 19:36:03.423207'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:36:03.423207', '2019-07-03 19:36:03.423207');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:36:03.429560', '2019-07-03 19:36:03.429560'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:36:03.429560', '2019-07-03 19:36:03.429560');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:36:03.435737', '2019-07-03 19:36:03.435737'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:36:03.435737', '2019-07-03 19:36:03.435737')[0m
  [1m[35m (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ReadingTest: test_create_reading_record
---------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:36:03.490199"], ["updated_at", "2019-07-03 19:36:03.490199"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.2ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mReading Create (0.6ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190963], ["tracking_number", 1], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 19:36:03.520299"], ["updated_at", "2019-07-03 19:36:03.520299"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
ReadingTest: test_should_not_create_record_if_thermostat_is_missing
-------------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
-------------------------------
ReadingTest: test_Reading_count
-------------------------------
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:36:35.951727', '2019-07-03 19:36:35.951727'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:36:35.951727', '2019-07-03 19:36:35.951727');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:36:35.957533', '2019-07-03 19:36:35.957533'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:36:35.957533', '2019-07-03 19:36:35.957533');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:36:35.961699', '2019-07-03 19:36:35.961699'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:36:35.961699', '2019-07-03 19:36:35.961699')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ReadingTest: test_create_reading_record
---------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:36:36.009330"], ["updated_at", "2019-07-03 19:36:36.009330"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mReading Create (0.9ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190963], ["tracking_number", 1], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 19:36:36.045574"], ["updated_at", "2019-07-03 19:36:36.045574"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
ReadingTest: test_should_not_create_record_if_thermostat_is_missing
-------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------
ReadingTest: test_Reading_count
-------------------------------
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.0ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:37:06.849187', '2019-07-03 19:37:06.849187'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:37:06.849187', '2019-07-03 19:37:06.849187');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:37:06.856960', '2019-07-03 19:37:06.856960'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:37:06.856960', '2019-07-03 19:37:06.856960');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:37:06.862887', '2019-07-03 19:37:06.862887'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:37:06.862887', '2019-07-03 19:37:06.862887')[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
ReadingTest: test_should_not_create_record_if_thermostat_is_missing
-------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
-------------------------------
ReadingTest: test_Reading_count
-------------------------------
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ReadingTest: test_create_reading_record
---------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:37:06.976490"], ["updated_at", "2019-07-03 19:37:06.976490"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.8ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mReading Create (0.7ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190963], ["tracking_number", 1], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 19:37:06.993422"], ["updated_at", "2019-07-03 19:37:06.993422"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:37:40.765551', '2019-07-03 19:37:40.765551'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:37:40.765551', '2019-07-03 19:37:40.765551');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:37:40.774940', '2019-07-03 19:37:40.774940'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:37:40.774940', '2019-07-03 19:37:40.774940');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:37:40.783423', '2019-07-03 19:37:40.783423'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:37:40.783423', '2019-07-03 19:37:40.783423')[0m
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------
ReadingTest: test_Reading_count
-------------------------------
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ReadingTest: test_create_reading_record
---------------------------------------
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:37:40.896079"], ["updated_at", "2019-07-03 19:37:40.896079"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mReading Create (0.5ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190963], ["tracking_number", 1], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 19:37:40.934031"], ["updated_at", "2019-07-03 19:37:40.934031"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
ReadingTest: test_should_not_create_record_if_thermostat_is_missing
-------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (3.3ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:38:01.316017', '2019-07-03 19:38:01.316017'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:38:01.316017', '2019-07-03 19:38:01.316017');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:38:01.322076', '2019-07-03 19:38:01.322076'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:38:01.322076', '2019-07-03 19:38:01.322076');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:38:01.330034', '2019-07-03 19:38:01.330034'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:38:01.330034', '2019-07-03 19:38:01.330034')[0m
  [1m[35m (4.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------
ReadingTest: test_Reading_count
-------------------------------
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ReadingTest: test_create_reading_record
---------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.6ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:38:01.423820"], ["updated_at", "2019-07-03 19:38:01.423820"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mReading Create (0.4ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190963], ["tracking_number", 1], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 19:38:01.466367"], ["updated_at", "2019-07-03 19:38:01.466367"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
ReadingTest: test_should_not_create_record_if_thermostat_is_missing
-------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:38:15.479274', '2019-07-03 19:38:15.479274'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:38:15.479274', '2019-07-03 19:38:15.479274');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:38:15.486971', '2019-07-03 19:38:15.486971'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:38:15.486971', '2019-07-03 19:38:15.486971');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:38:15.491068', '2019-07-03 19:38:15.491068'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:38:15.491068', '2019-07-03 19:38:15.491068')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
ThermostatTest: test_should_not_save_thermostats_without_household_token_and_location
-------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
ThermostatTest: test_thermostat_count
-------------------------------------
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ThermostatTest: test_should_create_thermostat
---------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.6ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:38:15.566424"], ["updated_at", "2019-07-03 19:38:15.566424"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:38:50.592995', '2019-07-03 19:38:50.592995'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:38:50.592995', '2019-07-03 19:38:50.592995');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:38:50.599346', '2019-07-03 19:38:50.599346'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:38:50.599346', '2019-07-03 19:38:50.599346');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:38:50.603759', '2019-07-03 19:38:50.603759'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:38:50.603759', '2019-07-03 19:38:50.603759')[0m
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ThermostatTest: test_should_create_thermostat
---------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:38:50.649291"], ["updated_at", "2019-07-03 19:38:50.649291"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
ThermostatTest: test_should_not_save_thermostats_without_household_token_and_location
-------------------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
ThermostatTest: test_thermostat_count
-------------------------------------
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (2.8ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:38:53.332447', '2019-07-03 19:38:53.332447'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:38:53.332447', '2019-07-03 19:38:53.332447');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:38:53.339742', '2019-07-03 19:38:53.339742'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:38:53.339742', '2019-07-03 19:38:53.339742');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:38:53.345420', '2019-07-03 19:38:53.345420'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:38:53.345420', '2019-07-03 19:38:53.345420')[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ReadingTest: test_create_reading_record
---------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.7ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:38:53.402814"], ["updated_at", "2019-07-03 19:38:53.402814"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mReading Create (1.4ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190963], ["tracking_number", 1], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 19:38:53.443022"], ["updated_at", "2019-07-03 19:38:53.443022"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------
ReadingTest: test_Reading_count
-------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
ReadingTest: test_should_not_create_record_if_thermostat_is_missing
-------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (4.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:39:45.513925', '2019-07-03 19:39:45.513925'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:39:45.513925', '2019-07-03 19:39:45.513925');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:39:45.522336', '2019-07-03 19:39:45.522336'), (298486374, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:39:45.522336', '2019-07-03 19:39:45.522336');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:39:45.527332', '2019-07-03 19:39:45.527332'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:39:45.527332', '2019-07-03 19:39:45.527332')[0m
  [1m[35m (4.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
ReadingTest: test_should_not_create_record_if_thermostat_is_missing
-------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------
ReadingTest: test_Reading_count
-------------------------------
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ReadingTest: test_create_reading_record
---------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.8ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:39:45.635641"], ["updated_at", "2019-07-03 19:39:45.635641"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.2ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mReading Create (0.5ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190963], ["tracking_number", 1], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 19:39:45.653016"], ["updated_at", "2019-07-03 19:39:45.653016"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings" WHERE "readings"."thermostat_id" = $1[0m  [["thermostat_id", 980190963]]
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.4ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:43:44.555259', '2019-07-03 19:43:44.555259'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:43:44.555259', '2019-07-03 19:43:44.555259');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:43:44.571204', '2019-07-03 19:43:44.571204'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 19:43:44.571204', '2019-07-03 19:43:44.571204');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:43:44.575353', '2019-07-03 19:43:44.575353'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:43:44.575353', '2019-07-03 19:43:44.575353')[0m
  [1m[35m (4.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ReadingTest: test_create_reading_record
---------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:43:44.628251"], ["updated_at", "2019-07-03 19:43:44.628251"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mReading Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
ReadingTest: test_should_not_create_record_if_thermostat_is_missing
-------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReading Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------
ReadingTest: test_Reading_count
-------------------------------
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.4ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:44:52.283090', '2019-07-03 19:44:52.283090'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:44:52.283090', '2019-07-03 19:44:52.283090');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:44:52.288802', '2019-07-03 19:44:52.288802'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 19:44:52.288802', '2019-07-03 19:44:52.288802');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:44:52.293018', '2019-07-03 19:44:52.293018'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:44:52.293018', '2019-07-03 19:44:52.293018')[0m
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------
ReadingTest: test_Reading_count
-------------------------------
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ReadingTest: test_create_reading_record
---------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (1.0ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:44:52.344047"], ["updated_at", "2019-07-03 19:44:52.344047"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (0.5ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190963], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 19:44:52.380865"], ["updated_at", "2019-07-03 19:44:52.380865"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings" WHERE "readings"."thermostat_id" = $1[0m  [["thermostat_id", 980190963]]
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
ReadingTest: test_should_not_create_record_if_thermostat_is_missing
-------------------------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReading Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ReadingTest: test_cannot_create_if_tracking_number_is_same
----------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.3ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:45:22.434750', '2019-07-03 19:45:22.434750'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:45:22.434750', '2019-07-03 19:45:22.434750');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:45:22.444642', '2019-07-03 19:45:22.444642'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 19:45:22.444642', '2019-07-03 19:45:22.444642');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:45:22.452288', '2019-07-03 19:45:22.452288'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:45:22.452288', '2019-07-03 19:45:22.452288')[0m
  [1m[35m (5.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
ReadingTest: test_should_not_create_record_if_thermostat_is_missing
-------------------------------------------------------------------
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReading Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------
ReadingTest: test_Reading_count
-------------------------------
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ReadingTest: test_cannot_create_if_tracking_number_is_same
----------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.8ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:45:22.551517"], ["updated_at", "2019-07-03 19:45:22.551517"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (0.6ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190963], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 19:45:22.570932"], ["updated_at", "2019-07-03 19:45:22.570932"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (3.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ReadingTest: test_create_reading_record
---------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.8ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:45:22.595333"], ["updated_at", "2019-07-03 19:45:22.595333"]]
  [1m[35m (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.6ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (0.7ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190964], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 19:45:22.608975"], ["updated_at", "2019-07-03 19:45:22.608975"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings" WHERE "readings"."thermostat_id" = $1[0m  [["thermostat_id", 980190964]]
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:46:09.706528', '2019-07-03 19:46:09.706528'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:46:09.706528', '2019-07-03 19:46:09.706528');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:46:09.721616', '2019-07-03 19:46:09.721616'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 19:46:09.721616', '2019-07-03 19:46:09.721616');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:46:09.728766', '2019-07-03 19:46:09.728766'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:46:09.728766', '2019-07-03 19:46:09.728766')[0m
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ReadingTest: test_cannot_create_if_tracking_number_is_same
----------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:46:09.783106"], ["updated_at", "2019-07-03 19:46:09.783106"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.2ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (0.5ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190963], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 19:46:09.818552"], ["updated_at", "2019-07-03 19:46:09.818552"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
ReadingTest: test_should_not_create_record_if_thermostat_is_missing
-------------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReading Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 1], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------
ReadingTest: test_Reading_count
-------------------------------
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ReadingTest: test_create_reading_record
---------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.8ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:46:09.883161"], ["updated_at", "2019-07-03 19:46:09.883161"]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (0.7ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190964], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 19:46:09.895059"], ["updated_at", "2019-07-03 19:46:09.895059"]]
  [1m[35m (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings" WHERE "readings"."thermostat_id" = $1[0m  [["thermostat_id", 980190964]]
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.1ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:46:46.497492', '2019-07-03 19:46:46.497492'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:46:46.497492', '2019-07-03 19:46:46.497492');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:46:46.506535', '2019-07-03 19:46:46.506535'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 19:46:46.506535', '2019-07-03 19:46:46.506535');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:46:46.510046', '2019-07-03 19:46:46.510046'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:46:46.510046', '2019-07-03 19:46:46.510046')[0m
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------
ReadingTest: test_Reading_count
-------------------------------
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
ReadingTest: test_should_not_create_record_if_thermostat_is_missing
-------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReading Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ReadingTest: test_cannot_create_if_tracking_number_is_same
----------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.7ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:46:46.614086"], ["updated_at", "2019-07-03 19:46:46.614086"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.5ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (0.5ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190963], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 19:46:46.632004"], ["updated_at", "2019-07-03 19:46:46.632004"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReading Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 AND "readings"."id" != $2 LIMIT $3[0m  [["tracking_number", 3], ["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ReadingTest: test_create_reading_record
---------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.6ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:46:46.656578"], ["updated_at", "2019-07-03 19:46:46.656578"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.7ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (0.5ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190964], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 19:46:46.665555"], ["updated_at", "2019-07-03 19:46:46.665555"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings" WHERE "readings"."thermostat_id" = $1[0m  [["thermostat_id", 980190964]]
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:47:20.505012', '2019-07-03 19:47:20.505012'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:47:20.505012', '2019-07-03 19:47:20.505012');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:47:20.511184', '2019-07-03 19:47:20.511184'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 19:47:20.511184', '2019-07-03 19:47:20.511184');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:47:20.518737', '2019-07-03 19:47:20.518737'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:47:20.518737', '2019-07-03 19:47:20.518737')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ReadingTest: test_cannot_create_if_tracking_number_is_same
----------------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h1234"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h1234"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:47:20.566728"], ["updated_at", "2019-07-03 19:47:20.566728"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (0.5ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190963], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 19:47:20.600048"], ["updated_at", "2019-07-03 19:47:20.600048"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------
ReadingTest: test_Reading_count
-------------------------------
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
ReadingTest: test_should_not_create_record_if_thermostat_is_missing
-------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReading Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ReadingTest: test_create_reading_record
---------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.6ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:47:20.646095"], ["updated_at", "2019-07-03 19:47:20.646095"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.5ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (0.5ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190964], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 19:47:20.685409"], ["updated_at", "2019-07-03 19:47:20.685409"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings" WHERE "readings"."thermostat_id" = $1[0m  [["thermostat_id", 980190964]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.7ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:47:35.031003', '2019-07-03 19:47:35.031003'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:47:35.031003', '2019-07-03 19:47:35.031003');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:47:35.036899', '2019-07-03 19:47:35.036899'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 19:47:35.036899', '2019-07-03 19:47:35.036899');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:47:35.041134', '2019-07-03 19:47:35.041134'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:47:35.041134', '2019-07-03 19:47:35.041134')[0m
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
ReadingTest: test_should_not_create_record_if_thermostat_is_missing
-------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReading Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------
ReadingTest: test_Reading_count
-------------------------------
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ReadingTest: test_cannot_create_if_tracking_number_is_same
----------------------------------------------------------
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h1234"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.7ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h1234"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:47:35.186967"], ["updated_at", "2019-07-03 19:47:35.186967"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (0.5ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190963], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 19:47:35.206046"], ["updated_at", "2019-07-03 19:47:35.206046"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ReadingTest: test_create_reading_record
---------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.8ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:47:35.223531"], ["updated_at", "2019-07-03 19:47:35.223531"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (0.4ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190964], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 19:47:35.239703"], ["updated_at", "2019-07-03 19:47:35.239703"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings" WHERE "readings"."thermostat_id" = $1[0m  [["thermostat_id", 980190964]]
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:48:02.652072', '2019-07-03 19:48:02.652072'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:48:02.652072', '2019-07-03 19:48:02.652072');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:48:02.657463', '2019-07-03 19:48:02.657463'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 19:48:02.657463', '2019-07-03 19:48:02.657463');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:48:02.663060', '2019-07-03 19:48:02.663060'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:48:02.663060', '2019-07-03 19:48:02.663060')[0m
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
ReadingTest: test_should_not_create_record_if_thermostat_is_missing
-------------------------------------------------------------------
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReading Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ReadingTest: test_cannot_create_if_tracking_number_is_same
----------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h1234"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.9ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h1234"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:48:02.742452"], ["updated_at", "2019-07-03 19:48:02.742452"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (1.1ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190963], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 19:48:02.761486"], ["updated_at", "2019-07-03 19:48:02.761486"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ReadingTest: test_create_reading_record
---------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:48:02.774896"], ["updated_at", "2019-07-03 19:48:02.774896"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (0.8ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190964], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 19:48:02.782044"], ["updated_at", "2019-07-03 19:48:02.782044"]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings" WHERE "readings"."thermostat_id" = $1[0m  [["thermostat_id", 980190964]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------
ReadingTest: test_Reading_count
-------------------------------
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.3ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:48:38.777508', '2019-07-03 19:48:38.777508'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:48:38.777508', '2019-07-03 19:48:38.777508');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:48:38.783792', '2019-07-03 19:48:38.783792'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 19:48:38.783792', '2019-07-03 19:48:38.783792');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:48:38.788744', '2019-07-03 19:48:38.788744'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:48:38.788744', '2019-07-03 19:48:38.788744')[0m
  [1m[35m (4.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ReadingTest: test_cannot_create_if_tracking_number_is_same
----------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h1234"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.6ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h1234"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:48:38.840039"], ["updated_at", "2019-07-03 19:48:38.840039"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (0.9ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190963], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 19:48:38.871179"], ["updated_at", "2019-07-03 19:48:38.871179"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------
ReadingTest: test_Reading_count
-------------------------------
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
ReadingTest: test_should_not_create_record_if_thermostat_is_missing
-------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReading Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ReadingTest: test_create_reading_record
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.6ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:48:38.910965"], ["updated_at", "2019-07-03 19:48:38.910965"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.5ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (0.7ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190964], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 19:48:38.920692"], ["updated_at", "2019-07-03 19:48:38.920692"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings" WHERE "readings"."thermostat_id" = $1[0m  [["thermostat_id", 980190964]]
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.4ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:48:44.172391', '2019-07-03 19:48:44.172391'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:48:44.172391', '2019-07-03 19:48:44.172391');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:48:44.180429', '2019-07-03 19:48:44.180429'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 19:48:44.180429', '2019-07-03 19:48:44.180429');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:48:44.186037', '2019-07-03 19:48:44.186037'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:48:44.186037', '2019-07-03 19:48:44.186037')[0m
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ReadingTest: test_create_reading_record
---------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:48:44.233538"], ["updated_at", "2019-07-03 19:48:44.233538"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.7ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (0.6ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190963], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 19:48:44.268505"], ["updated_at", "2019-07-03 19:48:44.268505"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings" WHERE "readings"."thermostat_id" = $1[0m  [["thermostat_id", 980190963]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
ReadingTest: test_should_not_create_record_if_thermostat_is_missing
-------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReading Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ReadingTest: test_cannot_create_if_tracking_number_is_same
----------------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h1234"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.6ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h1234"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:48:44.316571"], ["updated_at", "2019-07-03 19:48:44.316571"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (0.5ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190964], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 19:48:44.326728"], ["updated_at", "2019-07-03 19:48:44.326728"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
-------------------------------
ReadingTest: test_Reading_count
-------------------------------
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:48:57.260240', '2019-07-03 19:48:57.260240'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:48:57.260240', '2019-07-03 19:48:57.260240');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:48:57.265778', '2019-07-03 19:48:57.265778'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 19:48:57.265778', '2019-07-03 19:48:57.265778');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:48:57.270289', '2019-07-03 19:48:57.270289'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:48:57.270289', '2019-07-03 19:48:57.270289')[0m
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ReadingTest: test_create_reading_record
---------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.6ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:48:57.320995"], ["updated_at", "2019-07-03 19:48:57.320995"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (1.0ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190963], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 19:48:57.352239"], ["updated_at", "2019-07-03 19:48:57.352239"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings" WHERE "readings"."thermostat_id" = $1[0m  [["thermostat_id", 980190963]]
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
ReadingTest: test_should_not_create_record_if_thermostat_is_missing
-------------------------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReading Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------
ReadingTest: test_Reading_count
-------------------------------
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ReadingTest: test_cannot_create_if_tracking_number_is_same
----------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h1234"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.7ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h1234"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:48:57.408006"], ["updated_at", "2019-07-03 19:48:57.408006"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (0.5ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190964], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 19:48:57.417682"], ["updated_at", "2019-07-03 19:48:57.417682"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.9ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.6ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:49:01.815158', '2019-07-03 19:49:01.815158'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:49:01.815158', '2019-07-03 19:49:01.815158');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:49:01.821320', '2019-07-03 19:49:01.821320'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 19:49:01.821320', '2019-07-03 19:49:01.821320');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:49:01.825628', '2019-07-03 19:49:01.825628'), (298486374, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:49:01.825628', '2019-07-03 19:49:01.825628')[0m
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ReadingTest: test_cannot_create_if_tracking_number_is_same
----------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h1234"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h1234"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:49:01.870861"], ["updated_at", "2019-07-03 19:49:01.870861"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (0.5ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190963], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 19:49:01.903778"], ["updated_at", "2019-07-03 19:49:01.903778"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ReadingTest: test_create_reading_record
---------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:49:01.936850"], ["updated_at", "2019-07-03 19:49:01.936850"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (0.5ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190964], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 19:49:01.944125"], ["updated_at", "2019-07-03 19:49:01.944125"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings" WHERE "readings"."thermostat_id" = $1[0m  [["thermostat_id", 980190964]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
ReadingTest: test_should_not_create_record_if_thermostat_is_missing
-------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReading Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------
ReadingTest: test_Reading_count
-------------------------------
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:51:58.444122', '2019-07-03 19:51:58.444122'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:51:58.444122', '2019-07-03 19:51:58.444122');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:51:58.452497', '2019-07-03 19:51:58.452497'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 19:51:58.452497', '2019-07-03 19:51:58.452497');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:51:58.456517', '2019-07-03 19:51:58.456517'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:51:58.456517', '2019-07-03 19:51:58.456517')[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ReadingTest: test_cannot_create_if_tracking_number_is_same
----------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h1234"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h1234"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:51:58.507984"], ["updated_at", "2019-07-03 19:51:58.507984"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (0.6ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190963], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 19:51:58.543228"], ["updated_at", "2019-07-03 19:51:58.543228"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.7ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ReadingTest: test_create_reading_record
---------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.6ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:51:58.575663"], ["updated_at", "2019-07-03 19:51:58.575663"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.5ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (0.4ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190964], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 19:51:58.585062"], ["updated_at", "2019-07-03 19:51:58.585062"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings" WHERE "readings"."thermostat_id" = $1[0m  [["thermostat_id", 980190964]]
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
ReadingTest: test_should_not_create_record_if_thermostat_is_missing
-------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReading Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------
ReadingTest: test_Reading_count
-------------------------------
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.3ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:52:04.782129', '2019-07-03 19:52:04.782129'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:52:04.782129', '2019-07-03 19:52:04.782129');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:52:04.787658', '2019-07-03 19:52:04.787658'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 19:52:04.787658', '2019-07-03 19:52:04.787658');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:52:04.793235', '2019-07-03 19:52:04.793235'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:52:04.793235', '2019-07-03 19:52:04.793235')[0m
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
ReadingStatisticTest: test_should_not_create_if_thermostat_id_is_missing
------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (2.1ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:53:03.720086', '2019-07-03 19:53:03.720086'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:53:03.720086', '2019-07-03 19:53:03.720086');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:53:03.728098', '2019-07-03 19:53:03.728098'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 19:53:03.728098', '2019-07-03 19:53:03.728098');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:53:03.732360', '2019-07-03 19:53:03.732360'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:53:03.732360', '2019-07-03 19:53:03.732360')[0m
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
ReadingStatisticTest: test_should_not_create_if_thermostat_id_is_missing
------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ReadingStatisticTest: test_should_create_a_record_
--------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.3ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:53:23.732713', '2019-07-03 19:53:23.732713'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:53:23.732713', '2019-07-03 19:53:23.732713');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:53:23.738503', '2019-07-03 19:53:23.738503'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 19:53:23.738503', '2019-07-03 19:53:23.738503');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:53:23.744364', '2019-07-03 19:53:23.744364'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:53:23.744364', '2019-07-03 19:53:23.744364')[0m
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ReadingStatisticTest: test_should_create_a_record_
--------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (1.0ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "reading_statistics"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
ReadingStatisticTest: test_should_not_create_if_thermostat_id_is_missing
------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.6ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:53:30.699822', '2019-07-03 19:53:30.699822'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:53:30.699822', '2019-07-03 19:53:30.699822');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:53:30.708565', '2019-07-03 19:53:30.708565'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 19:53:30.708565', '2019-07-03 19:53:30.708565');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:53:30.712640', '2019-07-03 19:53:30.712640'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:53:30.712640', '2019-07-03 19:53:30.712640')[0m
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ReadingStatisticTest: test_should_create_a_record_
--------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.6ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
ReadingStatisticTest: test_should_not_create_if_thermostat_id_is_missing
------------------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (2.6ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:54:04.282406', '2019-07-03 19:54:04.282406'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:54:04.282406', '2019-07-03 19:54:04.282406');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:54:04.288915', '2019-07-03 19:54:04.288915'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 19:54:04.288915', '2019-07-03 19:54:04.288915');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:54:04.295877', '2019-07-03 19:54:04.295877'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:54:04.295877', '2019-07-03 19:54:04.295877')[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ReadingStatisticTest: test_should_create_a_record_
--------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.7ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:54:04.340007"], ["updated_at", "2019-07-03 19:54:04.340007"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.2ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mReadingStatistic Create (0.7ms)[0m  [1m[32mINSERT INTO "reading_statistics" ("thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16) RETURNING "id"[0m  [["thermostat_id", 980190963], ["number_of_readings", 1], ["stemperature", 1.5], ["shumidity", 1.5], ["sbattery_charge", 1.5], ["atemperature", 1.5], ["ahumidity", 1.5], ["abattery_charge", 1.5], ["max_temperature", 1.5], ["max_humidity", 1.5], ["max_battery_charge", 1.5], ["min_temperature", 1.5], ["min_humidity", 1.5], ["min_battery_charge", 1.5], ["created_at", "2019-07-03 19:54:04.440939"], ["updated_at", "2019-07-03 19:54:04.440939"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "reading_statistics"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
ReadingStatisticTest: test_should_not_create_if_thermostat_id_is_missing
------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.3ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:54:09.822566', '2019-07-03 19:54:09.822566'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:54:09.822566', '2019-07-03 19:54:09.822566');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:54:09.828581', '2019-07-03 19:54:09.828581'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 19:54:09.828581', '2019-07-03 19:54:09.828581');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:54:09.832979', '2019-07-03 19:54:09.832979'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:54:09.832979', '2019-07-03 19:54:09.832979')[0m
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
ReadingStatisticTest: test_should_not_create_if_thermostat_id_is_missing
------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ReadingStatisticTest: test_should_create_a_record_
--------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:54:09.927755"], ["updated_at", "2019-07-03 19:54:09.927755"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.2ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mReadingStatistic Create (0.6ms)[0m  [1m[32mINSERT INTO "reading_statistics" ("thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16) RETURNING "id"[0m  [["thermostat_id", 980190963], ["number_of_readings", 1], ["stemperature", 1.5], ["shumidity", 1.5], ["sbattery_charge", 1.5], ["atemperature", 1.5], ["ahumidity", 1.5], ["abattery_charge", 1.5], ["max_temperature", 1.5], ["max_humidity", 1.5], ["max_battery_charge", 1.5], ["min_temperature", 1.5], ["min_humidity", 1.5], ["min_battery_charge", 1.5], ["created_at", "2019-07-03 19:54:09.950442"], ["updated_at", "2019-07-03 19:54:09.950442"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "reading_statistics"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (2.1ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:54:37.485865', '2019-07-03 19:54:37.485865'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:54:37.485865', '2019-07-03 19:54:37.485865');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:54:37.492921', '2019-07-03 19:54:37.492921'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 19:54:37.492921', '2019-07-03 19:54:37.492921');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:54:37.498334', '2019-07-03 19:54:37.498334'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:54:37.498334', '2019-07-03 19:54:37.498334')[0m
  [1m[35m (5.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ReadingTest: test_create_reading_record
---------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:54:37.547085"], ["updated_at", "2019-07-03 19:54:37.547085"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (0.5ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190963], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 19:54:37.577015"], ["updated_at", "2019-07-03 19:54:37.577015"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings" WHERE "readings"."thermostat_id" = $1[0m  [["thermostat_id", 980190963]]
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
ReadingTest: test_should_not_create_record_if_thermostat_is_missing
-------------------------------------------------------------------
  [1m[35m (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReading Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ReadingTest: test_cannot_create_if_tracking_number_is_same
----------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h1234"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h1234"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:54:37.623829"], ["updated_at", "2019-07-03 19:54:37.623829"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.5ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (0.5ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190964], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 19:54:37.634360"], ["updated_at", "2019-07-03 19:54:37.634360"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------
ReadingTest: test_Reading_count
-------------------------------
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ThermostatTest: test_should_create_thermostat
---------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:54:37.656109"], ["updated_at", "2019-07-03 19:54:37.656109"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
ThermostatTest: test_thermostat_count
-------------------------------------
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
ThermostatTest: test_should_not_save_thermostats_without_household_token_and_location
-------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ReadingStatisticTest: test_should_create_a_record_
--------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (1.0ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:54:37.685705"], ["updated_at", "2019-07-03 19:54:37.685705"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.7ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190966], ["LIMIT", 1]]
  [1m[36mReadingStatistic Create (0.7ms)[0m  [1m[32mINSERT INTO "reading_statistics" ("thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16) RETURNING "id"[0m  [["thermostat_id", 980190966], ["number_of_readings", 1], ["stemperature", 1.5], ["shumidity", 1.5], ["sbattery_charge", 1.5], ["atemperature", 1.5], ["ahumidity", 1.5], ["abattery_charge", 1.5], ["max_temperature", 1.5], ["max_humidity", 1.5], ["max_battery_charge", 1.5], ["min_temperature", 1.5], ["min_humidity", 1.5], ["min_battery_charge", 1.5], ["created_at", "2019-07-03 19:54:37.718230"], ["updated_at", "2019-07-03 19:54:37.718230"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reading_statistics"[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
ReadingStatisticTest: test_should_not_create_if_thermostat_id_is_missing
------------------------------------------------------------------------
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ReadingStatisticsControllerTest: test_should_update_reading_statistic
---------------------------------------------------------------------
  [1m[36mReadingStatistic Load (0.4ms)[0m  [1m[34mSELECT "reading_statistics".* FROM "reading_statistics" WHERE "reading_statistics"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/reading_statistics/980190962" for 127.0.0.1 at 2019-07-03 19:54:37 +0000
Processing by ReadingStatisticsController#update as JSON
  Parameters: {"reading_statistic"=>{"abattery_charge"=>1.5, "ahumidity"=>1.5, "atemperature"=>1.5, "max_battery_charge"=>1.5, "max_humidity"=>1.5, "max_temperature"=>1.5, "min_battery_charge"=>1.5, "min_humidity"=>1.5, "min_temperature"=>1.5, "number_of_readings"=>1, "sbattery_charge"=>1.5, "shumidity"=>1.5, "stemperature"=>1.5, "thermostat_id"=>1}, "id"=>"980190962"}
  [1m[36mReadingStatistic Load (0.4ms)[0m  [1m[34mSELECT "reading_statistics".* FROM "reading_statistics" WHERE "reading_statistics"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 9ms (Views: 0.4ms | ActiveRecord: 1.2ms | Allocations: 1718)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
ReadingStatisticsControllerTest: test_should_destroy_reading_statistic
----------------------------------------------------------------------
  [1m[36mReadingStatistic Load (0.4ms)[0m  [1m[34mSELECT "reading_statistics".* FROM "reading_statistics" WHERE "reading_statistics"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reading_statistics"[0m
Started DELETE "/reading_statistics/980190962" for 127.0.0.1 at 2019-07-03 19:54:37 +0000
Processing by ReadingStatisticsController#destroy as JSON
  Parameters: {"id"=>"980190962", "reading_statistic"=>{}}
  [1m[36mReadingStatistic Load (0.4ms)[0m  [1m[34mSELECT "reading_statistics".* FROM "reading_statistics" WHERE "reading_statistics"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReadingStatistic Destroy (0.4ms)[0m  [1m[31mDELETE FROM "reading_statistics" WHERE "reading_statistics"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 4ms (ActiveRecord: 1.2ms | Allocations: 373)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "reading_statistics"[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
ReadingStatisticsControllerTest: test_should_show_reading_statistic
-------------------------------------------------------------------
  [1m[36mReadingStatistic Load (0.4ms)[0m  [1m[34mSELECT "reading_statistics".* FROM "reading_statistics" WHERE "reading_statistics"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/reading_statistics/980190962" for 127.0.0.1 at 2019-07-03 19:54:37 +0000
Processing by ReadingStatisticsController#show as JSON
  Parameters: {"id"=>"980190962", "reading_statistic"=>{}}
  [1m[36mReadingStatistic Load (0.4ms)[0m  [1m[34mSELECT "reading_statistics".* FROM "reading_statistics" WHERE "reading_statistics"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.4ms | Allocations: 460)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ReadingStatisticsControllerTest: test_should_create_reading_statistic
---------------------------------------------------------------------
  [1m[36mReadingStatistic Load (0.3ms)[0m  [1m[34mSELECT "reading_statistics".* FROM "reading_statistics" WHERE "reading_statistics"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "reading_statistics"[0m
Started POST "/reading_statistics" for 127.0.0.1 at 2019-07-03 19:54:38 +0000
Processing by ReadingStatisticsController#create as JSON
  Parameters: {"reading_statistic"=>{"abattery_charge"=>1.5, "ahumidity"=>1.5, "atemperature"=>1.5, "max_battery_charge"=>1.5, "max_humidity"=>1.5, "max_temperature"=>1.5, "min_battery_charge"=>1.5, "min_humidity"=>1.5, "min_temperature"=>1.5, "number_of_readings"=>1, "sbattery_charge"=>1.5, "shumidity"=>1.5, "stemperature"=>1.5, "thermostat_id"=>1}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 6ms (Views: 0.3ms | ActiveRecord: 1.4ms | Allocations: 1190)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "reading_statistics"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ReadingStatisticsControllerTest: test_should_get_index
------------------------------------------------------
  [1m[36mReadingStatistic Load (0.3ms)[0m  [1m[34mSELECT "reading_statistics".* FROM "reading_statistics" WHERE "reading_statistics"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/reading_statistics" for 127.0.0.1 at 2019-07-03 19:54:38 +0000
Processing by ReadingStatisticsController#index as JSON
  Parameters: {"reading_statistic"=>{}}
  [1m[36mReadingStatistic Load (0.4ms)[0m  [1m[34mSELECT "reading_statistics".* FROM "reading_statistics"[0m
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.4ms | Allocations: 687)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ReadingsControllerTest: test_should_create_reading
--------------------------------------------------
  [1m[36mReading Load (0.5ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ReadingsControllerTest: test_should_update_reading
--------------------------------------------------
  [1m[36mReading Load (0.4ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ReadingsControllerTest: test_should_show_reading
------------------------------------------------
  [1m[36mReading Load (0.4ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.5ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ReadingsControllerTest: test_should_destroy_reading
---------------------------------------------------
  [1m[36mReading Load (0.6ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_update_thermostat
--------------------------------------------------------
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/thermostats/980190962" for 127.0.0.1 at 2019-07-03 19:54:38 +0000
Processing by ThermostatsController#update as JSON
  Parameters: {"thermostat"=>{"household_token"=>"MyText", "location"=>{"city"=>"city1"}}, "id"=>"980190962"}
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "980190962"], ["LIMIT", 1]]
Filter chain halted as :set_thermostat rendered or redirected
Completed 404 Not Found in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 588)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_create_thermostat
--------------------------------------------------------
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
Started POST "/thermostats" for 127.0.0.1 at 2019-07-03 19:54:38 +0000
Processing by ThermostatsController#create as JSON
  Parameters: {"thermostat"=>{"household_token"=>"MyText", "location"=>{"city"=>"city1"}}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "MyText"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 7ms (Views: 0.5ms | ActiveRecord: 1.0ms | Allocations: 1184)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ThermostatsControllerTest: test_should_destroy_thermostat
---------------------------------------------------------
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
Started DELETE "/thermostats/980190962" for 127.0.0.1 at 2019-07-03 19:54:38 +0000
Processing by ThermostatsController#destroy as JSON
  Parameters: {"id"=>"980190962", "thermostat"=>{}}
  [1m[36mThermostat Load (1.0ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "980190962"], ["LIMIT", 1]]
Filter chain halted as :set_thermostat rendered or redirected
Completed 404 Not Found in 3ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 377)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ThermostatsControllerTest: test_should_get_index
------------------------------------------------
  [1m[36mThermostat Load (0.2ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/thermostats" for 127.0.0.1 at 2019-07-03 19:54:38 +0000
Processing by ThermostatsController#index as JSON
  Parameters: {"thermostat"=>{}}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats"[0m
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.4ms | Allocations: 510)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ThermostatsControllerTest: test_should_show_thermostat
------------------------------------------------------
  [1m[36mThermostat Load (0.7ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/thermostats/980190962" for 127.0.0.1 at 2019-07-03 19:54:38 +0000
Processing by ThermostatsController#show as JSON
  Parameters: {"id"=>"980190962", "thermostat"=>{}}
  [1m[36mThermostat Load (0.5ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "980190962"], ["LIMIT", 1]]
Filter chain halted as :set_thermostat rendered or redirected
Completed 404 Not Found in 4ms (Views: 0.4ms | ActiveRecord: 0.5ms | Allocations: 375)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.6ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:55:20.523654', '2019-07-03 19:55:20.523654'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:55:20.523654', '2019-07-03 19:55:20.523654');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:55:20.529277', '2019-07-03 19:55:20.529277'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 19:55:20.529277', '2019-07-03 19:55:20.529277');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:55:20.533498', '2019-07-03 19:55:20.533498'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:55:20.533498', '2019-07-03 19:55:20.533498')[0m
  [1m[35m (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ReadingStatisticsControllerTest: test_should_get_index
------------------------------------------------------
  [1m[36mReadingStatistic Load (0.5ms)[0m  [1m[34mSELECT "reading_statistics".* FROM "reading_statistics" WHERE "reading_statistics"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/reading_statistics" for 127.0.0.1 at 2019-07-03 19:55:20 +0000
Processing by ReadingStatisticsController#index as JSON
  Parameters: {"reading_statistic"=>{}}
  [1m[36mReadingStatistic Load (0.7ms)[0m  [1m[34mSELECT "reading_statistics".* FROM "reading_statistics"[0m
Completed 200 OK in 5ms (Views: 2.7ms | ActiveRecord: 0.7ms | Allocations: 827)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ReadingStatisticsControllerTest: test_should_create_reading_statistic
---------------------------------------------------------------------
  [1m[36mReadingStatistic Load (0.3ms)[0m  [1m[34mSELECT "reading_statistics".* FROM "reading_statistics" WHERE "reading_statistics"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "reading_statistics"[0m
Started POST "/reading_statistics" for 127.0.0.1 at 2019-07-03 19:55:20 +0000
Processing by ReadingStatisticsController#create as JSON
  Parameters: {"reading_statistic"=>{"abattery_charge"=>1.5, "ahumidity"=>1.5, "atemperature"=>1.5, "max_battery_charge"=>1.5, "max_humidity"=>1.5, "max_temperature"=>1.5, "min_battery_charge"=>1.5, "min_humidity"=>1.5, "min_temperature"=>1.5, "number_of_readings"=>1, "sbattery_charge"=>1.5, "shumidity"=>1.5, "stemperature"=>1.5, "thermostat_id"=>1}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 47ms (Views: 5.1ms | ActiveRecord: 0.9ms | Allocations: 3829)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "reading_statistics"[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
ReadingStatisticsControllerTest: test_should_show_reading_statistic
-------------------------------------------------------------------
  [1m[36mReadingStatistic Load (0.4ms)[0m  [1m[34mSELECT "reading_statistics".* FROM "reading_statistics" WHERE "reading_statistics"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/reading_statistics/980190962" for 127.0.0.1 at 2019-07-03 19:55:20 +0000
Processing by ReadingStatisticsController#show as JSON
  Parameters: {"id"=>"980190962", "reading_statistic"=>{}}
  [1m[36mReadingStatistic Load (0.5ms)[0m  [1m[34mSELECT "reading_statistics".* FROM "reading_statistics" WHERE "reading_statistics"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.5ms | Allocations: 580)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
ReadingStatisticsControllerTest: test_should_destroy_reading_statistic
----------------------------------------------------------------------
  [1m[36mReadingStatistic Load (0.5ms)[0m  [1m[34mSELECT "reading_statistics".* FROM "reading_statistics" WHERE "reading_statistics"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "reading_statistics"[0m
Started DELETE "/reading_statistics/980190962" for 127.0.0.1 at 2019-07-03 19:55:20 +0000
Processing by ReadingStatisticsController#destroy as JSON
  Parameters: {"id"=>"980190962", "reading_statistic"=>{}}
  [1m[36mReadingStatistic Load (0.4ms)[0m  [1m[34mSELECT "reading_statistics".* FROM "reading_statistics" WHERE "reading_statistics"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReadingStatistic Destroy (0.5ms)[0m  [1m[31mDELETE FROM "reading_statistics" WHERE "reading_statistics"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 4ms (ActiveRecord: 1.2ms | Allocations: 382)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "reading_statistics"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ReadingStatisticsControllerTest: test_should_update_reading_statistic
---------------------------------------------------------------------
  [1m[36mReadingStatistic Load (0.6ms)[0m  [1m[34mSELECT "reading_statistics".* FROM "reading_statistics" WHERE "reading_statistics"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/reading_statistics/980190962" for 127.0.0.1 at 2019-07-03 19:55:20 +0000
Processing by ReadingStatisticsController#update as JSON
  Parameters: {"reading_statistic"=>{"abattery_charge"=>1.5, "ahumidity"=>1.5, "atemperature"=>1.5, "max_battery_charge"=>1.5, "max_humidity"=>1.5, "max_temperature"=>1.5, "min_battery_charge"=>1.5, "min_humidity"=>1.5, "min_temperature"=>1.5, "number_of_readings"=>1, "sbattery_charge"=>1.5, "shumidity"=>1.5, "stemperature"=>1.5, "thermostat_id"=>1}, "id"=>"980190962"}
  [1m[36mReadingStatistic Load (0.3ms)[0m  [1m[34mSELECT "reading_statistics".* FROM "reading_statistics" WHERE "reading_statistics"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 7ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 1481)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ReadingsControllerTest: test_should_create_reading
--------------------------------------------------
  [1m[36mReading Load (0.7ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ReadingsControllerTest: test_should_show_reading
------------------------------------------------
  [1m[36mReading Load (0.4ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.7ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ReadingsControllerTest: test_should_update_reading
--------------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ReadingsControllerTest: test_should_destroy_reading
---------------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.8ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
ThermostatTest: test_should_not_save_thermostats_without_household_token_and_location
-------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
ThermostatTest: test_thermostat_count
-------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ThermostatTest: test_should_create_thermostat
---------------------------------------------
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:55:21.596021"], ["updated_at", "2019-07-03 19:55:21.596021"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_create_thermostat
--------------------------------------------------------
  [1m[36mThermostat Load (0.5ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
Started POST "/thermostats" for 127.0.0.1 at 2019-07-03 19:55:21 +0000
Processing by ThermostatsController#create as JSON
  Parameters: {"thermostat"=>{"household_token"=>"MyText", "location"=>{"city"=>"city1"}}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "MyText"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 6ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 1226)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_update_thermostat
--------------------------------------------------------
  [1m[36mThermostat Load (0.7ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/thermostats/980190962" for 127.0.0.1 at 2019-07-03 19:55:21 +0000
Processing by ThermostatsController#update as JSON
  Parameters: {"thermostat"=>{"household_token"=>"MyText", "location"=>{"city"=>"city1"}}, "id"=>"980190962"}
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "980190962"], ["LIMIT", 1]]
Filter chain halted as :set_thermostat rendered or redirected
Completed 404 Not Found in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 566)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ThermostatsControllerTest: test_should_get_index
------------------------------------------------
  [1m[36mThermostat Load (0.6ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/thermostats" for 127.0.0.1 at 2019-07-03 19:55:21 +0000
Processing by ThermostatsController#index as JSON
  Parameters: {"thermostat"=>{}}
  [1m[36mThermostat Load (0.6ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats"[0m
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.6ms | Allocations: 510)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ThermostatsControllerTest: test_should_show_thermostat
------------------------------------------------------
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/thermostats/980190962" for 127.0.0.1 at 2019-07-03 19:55:21 +0000
Processing by ThermostatsController#show as JSON
  Parameters: {"id"=>"980190962", "thermostat"=>{}}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "980190962"], ["LIMIT", 1]]
Filter chain halted as :set_thermostat rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 375)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ThermostatsControllerTest: test_should_destroy_thermostat
---------------------------------------------------------
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
Started DELETE "/thermostats/980190962" for 127.0.0.1 at 2019-07-03 19:55:21 +0000
Processing by ThermostatsController#destroy as JSON
  Parameters: {"id"=>"980190962", "thermostat"=>{}}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "980190962"], ["LIMIT", 1]]
Filter chain halted as :set_thermostat rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 377)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
ReadingStatisticTest: test_should_not_create_if_thermostat_id_is_missing
------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ReadingStatisticTest: test_should_create_a_record_
--------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.7ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:55:21.987644"], ["updated_at", "2019-07-03 19:55:21.987644"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.2ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mReadingStatistic Create (0.7ms)[0m  [1m[32mINSERT INTO "reading_statistics" ("thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16) RETURNING "id"[0m  [["thermostat_id", 980190964], ["number_of_readings", 1], ["stemperature", 1.5], ["shumidity", 1.5], ["sbattery_charge", 1.5], ["atemperature", 1.5], ["ahumidity", 1.5], ["abattery_charge", 1.5], ["max_temperature", 1.5], ["max_humidity", 1.5], ["max_battery_charge", 1.5], ["min_temperature", 1.5], ["min_humidity", 1.5], ["min_battery_charge", 1.5], ["created_at", "2019-07-03 19:55:22.003629"], ["updated_at", "2019-07-03 19:55:22.003629"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "reading_statistics"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ReadingTest: test_create_reading_record
---------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.6ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:55:22.016952"], ["updated_at", "2019-07-03 19:55:22.016952"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190965], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (2.4ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190965], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 19:55:22.034465"], ["updated_at", "2019-07-03 19:55:22.034465"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings" WHERE "readings"."thermostat_id" = $1[0m  [["thermostat_id", 980190965]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------
ReadingTest: test_Reading_count
-------------------------------
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ReadingTest: test_cannot_create_if_tracking_number_is_same
----------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h1234"], ["LIMIT", 1]]
  [1m[36mThermostat Create (1.6ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h1234"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 19:55:22.070584"], ["updated_at", "2019-07-03 19:55:22.070584"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190966], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (0.4ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190966], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 19:55:22.082572"], ["updated_at", "2019-07-03 19:55:22.082572"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.2ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190966], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
ReadingTest: test_should_not_create_record_if_thermostat_is_missing
-------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReading Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:55:44.766156', '2019-07-03 19:55:44.766156'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:55:44.766156', '2019-07-03 19:55:44.766156');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:55:44.771763', '2019-07-03 19:55:44.771763'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 19:55:44.771763', '2019-07-03 19:55:44.771763');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:55:44.777547', '2019-07-03 19:55:44.777547'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:55:44.777547', '2019-07-03 19:55:44.777547')[0m
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_update_thermostat
--------------------------------------------------------
  [1m[36mThermostat Load (0.8ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/thermostats/980190962" for 127.0.0.1 at 2019-07-03 19:55:44 +0000
Processing by ThermostatsController#update as JSON
  Parameters: {"thermostat"=>{"household_token"=>"MyText", "location"=>{"city"=>"city1"}}, "id"=>"980190962"}
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "980190962"], ["LIMIT", 1]]
Filter chain halted as :set_thermostat rendered or redirected
Completed 404 Not Found in 5ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 641)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_create_thermostat
--------------------------------------------------------
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
Started POST "/thermostats" for 127.0.0.1 at 2019-07-03 19:55:44 +0000
Processing by ThermostatsController#create as JSON
  Parameters: {"thermostat"=>{"household_token"=>"MyText", "location"=>{"city"=>"city1"}}}
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "MyText"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 21ms (Views: 0.8ms | ActiveRecord: 1.3ms | Allocations: 2515)
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ThermostatsControllerTest: test_should_get_index
------------------------------------------------
  [1m[36mThermostat Load (0.5ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/thermostats" for 127.0.0.1 at 2019-07-03 19:55:45 +0000
Processing by ThermostatsController#index as JSON
  Parameters: {"thermostat"=>{}}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats"[0m
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.4ms | Allocations: 522)
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ThermostatsControllerTest: test_should_destroy_thermostat
---------------------------------------------------------
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
Started DELETE "/thermostats/980190962" for 127.0.0.1 at 2019-07-03 19:55:45 +0000
Processing by ThermostatsController#destroy as JSON
  Parameters: {"id"=>"980190962", "thermostat"=>{}}
  [1m[36mThermostat Load (0.9ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "980190962"], ["LIMIT", 1]]
Filter chain halted as :set_thermostat rendered or redirected
Completed 404 Not Found in 3ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 377)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ThermostatsControllerTest: test_should_show_thermostat
------------------------------------------------------
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/thermostats/980190962" for 127.0.0.1 at 2019-07-03 19:55:45 +0000
Processing by ThermostatsController#show as JSON
  Parameters: {"id"=>"980190962", "thermostat"=>{}}
  [1m[36mThermostat Load (0.8ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "980190962"], ["LIMIT", 1]]
Filter chain halted as :set_thermostat rendered or redirected
Completed 404 Not Found in 4ms (Views: 0.4ms | ActiveRecord: 0.8ms | Allocations: 375)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.3ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 19:57:12.778705', '2019-07-03 19:57:12.778705'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 19:57:12.778705', '2019-07-03 19:57:12.778705');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 19:57:12.784460', '2019-07-03 19:57:12.784460'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 19:57:12.784460', '2019-07-03 19:57:12.784460');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:57:12.789722', '2019-07-03 19:57:12.789722'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 19:57:12.789722', '2019-07-03 19:57:12.789722')[0m
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_create_thermostat
--------------------------------------------------------
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
Started POST "/thermostats" for 127.0.0.1 at 2019-07-03 19:57:12 +0000
Processing by ThermostatsController#create as JSON
  Parameters: {"thermostat"=>{"household_token"=>"MyText", "location"=>{"city"=>"city1"}}}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "MyText"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 33ms (Views: 0.7ms | ActiveRecord: 2.3ms | Allocations: 2585)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ThermostatsControllerTest: test_should_get_index
------------------------------------------------
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/thermostats" for 127.0.0.1 at 2019-07-03 19:57:12 +0000
Processing by ThermostatsController#index as JSON
  Parameters: {"thermostat"=>{}}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats"[0m
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.4ms | Allocations: 522)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.1ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:00:15.187417', '2019-07-03 20:00:15.187417'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:00:15.187417', '2019-07-03 20:00:15.187417');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:00:15.196598', '2019-07-03 20:00:15.196598'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:00:15.196598', '2019-07-03 20:00:15.196598');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:00:15.200771', '2019-07-03 20:00:15.200771'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:00:15.200771', '2019-07-03 20:00:15.200771')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_create_thermostat
--------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ThermostatsControllerTest: test_should_get_index
------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (2.5ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:00:38.321506', '2019-07-03 20:00:38.321506'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:00:38.321506', '2019-07-03 20:00:38.321506');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:00:38.329131', '2019-07-03 20:00:38.329131'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:00:38.329131', '2019-07-03 20:00:38.329131');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:00:38.334084', '2019-07-03 20:00:38.334084'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:00:38.334084', '2019-07-03 20:00:38.334084')[0m
  [1m[35m (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_create_thermostat
--------------------------------------------------------
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ThermostatsControllerTest: test_should_get_index
------------------------------------------------
Started GET "/thermostats" for 127.0.0.1 at 2019-07-03 20:00:38 +0000
Processing by ThermostatsController#index as JSON
  Parameters: {"thermostat"=>{}}
  [1m[36mThermostat Load (0.8ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats"[0m
Completed 200 OK in 12ms (Views: 9.8ms | ActiveRecord: 0.8ms | Allocations: 3550)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (2.4ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:01:17.652878', '2019-07-03 20:01:17.652878'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:01:17.652878', '2019-07-03 20:01:17.652878');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:01:17.658394', '2019-07-03 20:01:17.658394'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:01:17.658394', '2019-07-03 20:01:17.658394');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:01:17.664542', '2019-07-03 20:01:17.664542'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:01:17.664542', '2019-07-03 20:01:17.664542')[0m
  [1m[35m (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_create_thermostat
--------------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
Started POST "/thermostats" for 127.0.0.1 at 2019-07-03 20:01:17 +0000
Processing by ThermostatsController#create as JSON
  Parameters: {"thermostat"=>{"household_token"=>"h123", "location"=>{"city"=>"city1"}}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.9ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:01:17.807771"], ["updated_at", "2019-07-03 20:01:17.807771"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 22ms (Views: 1.5ms | ActiveRecord: 2.2ms | Allocations: 5001)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ThermostatsControllerTest: test_should_get_index
------------------------------------------------
Started GET "/thermostats" for 127.0.0.1 at 2019-07-03 20:01:17 +0000
Processing by ThermostatsController#index as JSON
  Parameters: {"thermostat"=>{}}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats"[0m
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.4ms | Allocations: 561)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:01:41.687389', '2019-07-03 20:01:41.687389'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:01:41.687389', '2019-07-03 20:01:41.687389');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:01:41.695335', '2019-07-03 20:01:41.695335'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:01:41.695335', '2019-07-03 20:01:41.695335');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:01:41.700008', '2019-07-03 20:01:41.700008'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:01:41.700008', '2019-07-03 20:01:41.700008')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ThermostatsControllerTest: test_should_get_index
------------------------------------------------
Started GET "/thermostats" for 127.0.0.1 at 2019-07-03 20:01:41 +0000
Processing by ThermostatsController#index as JSON
  Parameters: {"thermostat"=>{}}
  [1m[36mThermostat Load (0.6ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats"[0m
Completed 200 OK in 11ms (Views: 10.0ms | ActiveRecord: 0.6ms | Allocations: 3585)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_create_thermostat
--------------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
Started POST "/thermostats" for 127.0.0.1 at 2019-07-03 20:01:41 +0000
Processing by ThermostatsController#create as JSON
  Parameters: {"thermostat"=>{"household_token"=>"h123", "location"=>{"city"=>"city1"}}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:01:41.910627"], ["updated_at", "2019-07-03 20:01:41.910627"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 14ms (Views: 1.2ms | ActiveRecord: 1.2ms | Allocations: 2008)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:01:52.943944', '2019-07-03 20:01:52.943944'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:01:52.943944', '2019-07-03 20:01:52.943944');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:01:52.950348', '2019-07-03 20:01:52.950348'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:01:52.950348', '2019-07-03 20:01:52.950348');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:01:52.955005', '2019-07-03 20:01:52.955005'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:01:52.955005', '2019-07-03 20:01:52.955005')[0m
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ThermostatsControllerTest: test_should_show_thermostat
------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ThermostatsControllerTest: test_should_get_index
------------------------------------------------
Started GET "/thermostats" for 127.0.0.1 at 2019-07-03 20:01:53 +0000
Processing by ThermostatsController#index as JSON
  Parameters: {"thermostat"=>{}}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats"[0m
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.4ms | Allocations: 3585)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_update_thermostat
--------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_create_thermostat
--------------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
Started POST "/thermostats" for 127.0.0.1 at 2019-07-03 20:01:53 +0000
Processing by ThermostatsController#create as JSON
  Parameters: {"thermostat"=>{"household_token"=>"h123", "location"=>{"city"=>"city1"}}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:01:53.213522"], ["updated_at", "2019-07-03 20:01:53.213522"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 14ms (Views: 1.4ms | ActiveRecord: 1.3ms | Allocations: 2008)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (2.5ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:02:38.153420', '2019-07-03 20:02:38.153420'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:02:38.153420', '2019-07-03 20:02:38.153420');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:02:38.159616', '2019-07-03 20:02:38.159616'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:02:38.159616', '2019-07-03 20:02:38.159616');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:02:38.165546', '2019-07-03 20:02:38.165546'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:02:38.165546', '2019-07-03 20:02:38.165546')[0m
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_update_thermostat
--------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ThermostatsControllerTest: test_should_get_index
------------------------------------------------
Started GET "/thermostats" for 127.0.0.1 at 2019-07-03 20:02:38 +0000
Processing by ThermostatsController#index as JSON
  Parameters: {"thermostat"=>{}}
  [1m[36mThermostat Load (0.5ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats"[0m
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.5ms | Allocations: 3585)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_create_thermostat
--------------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
Started POST "/thermostats" for 127.0.0.1 at 2019-07-03 20:02:38 +0000
Processing by ThermostatsController#create as JSON
  Parameters: {"thermostat"=>{"household_token"=>"h123", "location"=>{"city"=>"city1"}}}
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:02:38.397135"], ["updated_at", "2019-07-03 20:02:38.397135"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 15ms (Views: 1.3ms | ActiveRecord: 2.6ms | Allocations: 2008)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ThermostatsControllerTest: test_should_show_thermostat
------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ThermostatsControllerTest: test_should_destroy_thermostat
---------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:02:49.842620', '2019-07-03 20:02:49.842620'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:02:49.842620', '2019-07-03 20:02:49.842620');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:02:49.850888', '2019-07-03 20:02:49.850888'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:02:49.850888', '2019-07-03 20:02:49.850888');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:02:49.855953', '2019-07-03 20:02:49.855953'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:02:49.855953', '2019-07-03 20:02:49.855953')[0m
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_update_thermostat
--------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_create_thermostat
--------------------------------------------------------
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
Started POST "/thermostats" for 127.0.0.1 at 2019-07-03 20:02:49 +0000
Processing by ThermostatsController#create as JSON
  Parameters: {"thermostat"=>{"household_token"=>"h123", "location"=>{"city"=>"city1"}}}
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (1.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:02:50.045308"], ["updated_at", "2019-07-03 20:02:50.045308"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 30ms (Views: 1.9ms | ActiveRecord: 3.1ms | Allocations: 4999)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ThermostatsControllerTest: test_should_get_index
------------------------------------------------
Started GET "/thermostats" for 127.0.0.1 at 2019-07-03 20:02:50 +0000
Processing by ThermostatsController#index as JSON
  Parameters: {"thermostat"=>{}}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats"[0m
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.4ms | Allocations: 561)
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ThermostatsControllerTest: test_should_show_thermostat
------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.5ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:03:38.514145', '2019-07-03 20:03:38.514145'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:03:38.514145', '2019-07-03 20:03:38.514145');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:03:38.521645', '2019-07-03 20:03:38.521645'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:03:38.521645', '2019-07-03 20:03:38.521645');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:03:38.527092', '2019-07-03 20:03:38.527092'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:03:38.527092', '2019-07-03 20:03:38.527092')[0m
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_create_thermostat
--------------------------------------------------------
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
Started POST "/thermostats" for 127.0.0.1 at 2019-07-03 20:03:38 +0000
Processing by ThermostatsController#create as JSON
  Parameters: {"thermostat"=>{"household_token"=>"h123", "location"=>{"city"=>"city1"}}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:03:38.747626"], ["updated_at", "2019-07-03 20:03:38.747626"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 21ms (Views: 1.5ms | ActiveRecord: 1.7ms | Allocations: 5003)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_update_thermostat
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ThermostatsControllerTest: test_should_get_index
------------------------------------------------
Started GET "/thermostats" for 127.0.0.1 at 2019-07-03 20:03:38 +0000
Processing by ThermostatsController#index as JSON
  Parameters: {"thermostat"=>{}}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats"[0m
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.4ms | Allocations: 561)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ThermostatsControllerTest: test_should_show_thermostat
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.4ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:05:13.963748', '2019-07-03 20:05:13.963748'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:05:13.963748', '2019-07-03 20:05:13.963748');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:05:13.968900', '2019-07-03 20:05:13.968900'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:05:13.968900', '2019-07-03 20:05:13.968900');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:05:13.973389', '2019-07-03 20:05:13.973389'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:05:13.973389', '2019-07-03 20:05:13.973389')[0m
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_create_thermostat
--------------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
Started POST "/thermostats" for 127.0.0.1 at 2019-07-03 20:05:14 +0000
Processing by ThermostatsController#create as JSON
  Parameters: {"thermostat"=>{"household_token"=>"h123", "location"=>{"city"=>"city1"}}}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:05:14.133865"], ["updated_at", "2019-07-03 20:05:14.133865"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 20ms (Views: 1.7ms | ActiveRecord: 1.5ms | Allocations: 5001)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ThermostatsControllerTest: test_should_show_thermostat
------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:05:14.152563"], ["updated_at", "2019-07-03 20:05:14.152563"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_update_thermostat
--------------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ThermostatsControllerTest: test_should_get_index
------------------------------------------------
Started GET "/thermostats" for 127.0.0.1 at 2019-07-03 20:05:14 +0000
Processing by ThermostatsController#index as JSON
  Parameters: {"thermostat"=>{}}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats"[0m
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.4ms | Allocations: 561)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (2.0ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:05:20.939244', '2019-07-03 20:05:20.939244'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:05:20.939244', '2019-07-03 20:05:20.939244');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:05:20.944950', '2019-07-03 20:05:20.944950'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:05:20.944950', '2019-07-03 20:05:20.944950');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:05:20.951046', '2019-07-03 20:05:20.951046'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:05:20.951046', '2019-07-03 20:05:20.951046')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ThermostatsControllerTest: test_should_get_index
------------------------------------------------
Started GET "/thermostats" for 127.0.0.1 at 2019-07-03 20:05:21 +0000
Processing by ThermostatsController#index as JSON
  Parameters: {"thermostat"=>{}}
  [1m[36mThermostat Load (0.5ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats"[0m
Completed 200 OK in 11ms (Views: 10.0ms | ActiveRecord: 0.5ms | Allocations: 3585)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_update_thermostat
--------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ThermostatsControllerTest: test_should_show_thermostat
------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (1.2ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:05:21.127618"], ["updated_at", "2019-07-03 20:05:21.127618"]]
  [1m[35m (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/980190963" for 127.0.0.1 at 2019-07-03 20:05:21 +0000
Processing by ThermostatsController#show as JSON
  Parameters: {"id"=>"980190963", "thermostat"=>{}}
  [1m[36mThermostat Load (1.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "980190963"], ["LIMIT", 1]]
Filter chain halted as :set_thermostat rendered or redirected
Completed 404 Not Found in 8ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 595)
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_create_thermostat
--------------------------------------------------------
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
Started POST "/thermostats" for 127.0.0.1 at 2019-07-03 20:05:21 +0000
Processing by ThermostatsController#create as JSON
  Parameters: {"thermostat"=>{"household_token"=>"h123", "location"=>{"city"=>"city1"}}}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:05:21.291868"], ["updated_at", "2019-07-03 20:05:21.291868"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 10ms (Views: 1.2ms | ActiveRecord: 1.7ms | Allocations: 1335)
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.9ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:05:43.009312', '2019-07-03 20:05:43.009312'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:05:43.009312', '2019-07-03 20:05:43.009312');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:05:43.015645', '2019-07-03 20:05:43.015645'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:05:43.015645', '2019-07-03 20:05:43.015645');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:05:43.020170', '2019-07-03 20:05:43.020170'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:05:43.020170', '2019-07-03 20:05:43.020170')[0m
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_create_thermostat
--------------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
Started POST "/thermostats" for 127.0.0.1 at 2019-07-03 20:05:43 +0000
Processing by ThermostatsController#create as JSON
  Parameters: {"thermostat"=>{"household_token"=>"h123", "location"=>{"city"=>"city1"}}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:05:43.177324"], ["updated_at", "2019-07-03 20:05:43.177324"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 20ms (Views: 1.7ms | ActiveRecord: 1.2ms | Allocations: 5001)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ThermostatsControllerTest: test_should_show_thermostat
------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:05:43.198209"], ["updated_at", "2019-07-03 20:05:43.198209"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/980190964" for 127.0.0.1 at 2019-07-03 20:05:43 +0000
Processing by ThermostatsController#show as JSON
  Parameters: {"id"=>"980190964", "thermostat"=>{}}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "980190964"], ["LIMIT", 1]]
Filter chain halted as :set_thermostat rendered or redirected
Completed 404 Not Found in 5ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 632)
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ThermostatsControllerTest: test_should_get_index
------------------------------------------------
Started GET "/thermostats" for 127.0.0.1 at 2019-07-03 20:05:43 +0000
Processing by ThermostatsController#index as JSON
  Parameters: {"thermostat"=>{}}
  [1m[36mThermostat Load (0.5ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats"[0m
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.5ms | Allocations: 522)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_update_thermostat
--------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.3ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:06:37.963972', '2019-07-03 20:06:37.963972'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:06:37.963972', '2019-07-03 20:06:37.963972');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:06:37.968906', '2019-07-03 20:06:37.968906'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:06:37.968906', '2019-07-03 20:06:37.968906');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:06:37.973032', '2019-07-03 20:06:37.973032'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:06:37.973032', '2019-07-03 20:06:37.973032')[0m
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_update_thermostat
--------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ThermostatsControllerTest: test_should_get_index
------------------------------------------------
Started GET "/thermostats" for 127.0.0.1 at 2019-07-03 20:06:38 +0000
Processing by ThermostatsController#index as JSON
  Parameters: {"thermostat"=>{}}
  [1m[36mThermostat Load (0.6ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats"[0m
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.6ms | Allocations: 3585)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_create_thermostat
--------------------------------------------------------
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
Started POST "/thermostats" for 127.0.0.1 at 2019-07-03 20:06:38 +0000
Processing by ThermostatsController#create as JSON
  Parameters: {"thermostat"=>{"household_token"=>"h123", "location"=>{"city"=>"city1"}}}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:06:38.226993"], ["updated_at", "2019-07-03 20:06:38.226993"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 16ms (Views: 1.6ms | ActiveRecord: 1.5ms | Allocations: 2008)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ThermostatsControllerTest: test_should_show_thermostat
------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.9ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:06:38.240636"], ["updated_at", "2019-07-03 20:06:38.240636"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/980190964" for 127.0.0.1 at 2019-07-03 20:06:38 +0000
Processing by ThermostatsController#show as JSON
  Parameters: {"id"=>"980190964", "thermostat"=>{}}
  [1m[36mThermostat Load (0.2ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "980190964"], ["LIMIT", 1]]
Filter chain halted as :set_thermostat rendered or redirected
Completed 404 Not Found in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 593)
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.1ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:08:35.804187', '2019-07-03 20:08:35.804187'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:08:35.804187', '2019-07-03 20:08:35.804187');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:08:35.811874', '2019-07-03 20:08:35.811874'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:08:35.811874', '2019-07-03 20:08:35.811874');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:08:35.815927', '2019-07-03 20:08:35.815927'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:08:35.815927', '2019-07-03 20:08:35.815927')[0m
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_create_thermostat
--------------------------------------------------------
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
Started POST "/thermostats" for 127.0.0.1 at 2019-07-03 20:08:35 +0000
Processing by ThermostatsController#create as JSON
  Parameters: {"thermostat"=>{"household_token"=>"h123", "location"=>{"city"=>"city1"}}}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:08:35.977228"], ["updated_at", "2019-07-03 20:08:35.977228"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 23ms (Views: 1.4ms | ActiveRecord: 1.8ms | Allocations: 5001)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_update_thermostat
--------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ThermostatsControllerTest: test_should_get_index
------------------------------------------------
Started GET "/thermostats" for 127.0.0.1 at 2019-07-03 20:08:36 +0000
Processing by ThermostatsController#index as JSON
  Parameters: {"thermostat"=>{}}
  [1m[36mThermostat Load (1.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats"[0m
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 1.3ms | Allocations: 561)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ThermostatsControllerTest: test_should_show_thermostat
------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:08:36.070521"], ["updated_at", "2019-07-03 20:08:36.070521"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (2.2ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:08:48.055885', '2019-07-03 20:08:48.055885'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:08:48.055885', '2019-07-03 20:08:48.055885');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:08:48.063883', '2019-07-03 20:08:48.063883'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:08:48.063883', '2019-07-03 20:08:48.063883');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:08:48.067979', '2019-07-03 20:08:48.067979'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:08:48.067979', '2019-07-03 20:08:48.067979')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_create_thermostat
--------------------------------------------------------
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
Started POST "/thermostats" for 127.0.0.1 at 2019-07-03 20:08:48 +0000
Processing by ThermostatsController#create as JSON
  Parameters: {"thermostat"=>{"household_token"=>"h123", "location"=>{"city"=>"city1"}}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.7ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:08:48.323521"], ["updated_at", "2019-07-03 20:08:48.323521"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 50ms (Views: 1.6ms | ActiveRecord: 1.7ms | Allocations: 5017)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ThermostatsControllerTest: test_should_get_index
------------------------------------------------
Started GET "/thermostats" for 127.0.0.1 at 2019-07-03 20:08:48 +0000
Processing by ThermostatsController#index as JSON
  Parameters: {"thermostat"=>{}}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats"[0m
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.4ms | Allocations: 561)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ThermostatsControllerTest: test_should_show_thermostat
------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.8ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:08:48.406708"], ["updated_at", "2019-07-03 20:08:48.406708"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h123" for 127.0.0.1 at 2019-07-03 20:08:48 +0000
Processing by ThermostatsController#show as HTML
  Parameters: {"id"=>"h123"}
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.8ms | Allocations: 565)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_update_thermostat
--------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (2.4ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:10:34.297772', '2019-07-03 20:10:34.297772'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:10:34.297772', '2019-07-03 20:10:34.297772');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:10:34.304158', '2019-07-03 20:10:34.304158'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:10:34.304158', '2019-07-03 20:10:34.304158');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:10:34.310474', '2019-07-03 20:10:34.310474'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:10:34.310474', '2019-07-03 20:10:34.310474')[0m
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_create_thermostat
--------------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
Started POST "/thermostats" for 127.0.0.1 at 2019-07-03 20:10:34 +0000
Processing by ThermostatsController#create as JSON
  Parameters: {"thermostat"=>{"household_token"=>"h123", "location"=>{"city"=>"city1"}}}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.8ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:10:34.468691"], ["updated_at", "2019-07-03 20:10:34.468691"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 24ms (Views: 2.0ms | ActiveRecord: 1.8ms | Allocations: 5001)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ThermostatsControllerTest: test_should_get_index
------------------------------------------------
Started GET "/thermostats" for 127.0.0.1 at 2019-07-03 20:10:34 +0000
Processing by ThermostatsController#index as JSON
  Parameters: {"thermostat"=>{}}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats"[0m
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.4ms | Allocations: 561)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ThermostatsControllerTest: test_should_show_thermostat
------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.8ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:10:34.552479"], ["updated_at", "2019-07-03 20:10:34.552479"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h123" for 127.0.0.1 at 2019-07-03 20:10:34 +0000
Processing by ThermostatsController#show as HTML
  Parameters: {"id"=>"h123"}
  [1m[36mThermostat Load (0.8ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 1.0ms | Allocations: 565)
  [1m[35m (3.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_update_thermostat
--------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (1.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:10:34.625305"], ["updated_at", "2019-07-03 20:10:34.625305"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/thermostats/h123" for 127.0.0.1 at 2019-07-03 20:10:34 +0000
Processing by ThermostatsController#update as HTML
  Parameters: {"thermostat"=>{"household_token"=>"h123", "location"=>{"city"=>"city1"}}, "id"=>"h123"}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 AND "thermostats"."id" != $2 LIMIT $3[0m  [["household_token", "h123"], ["id", 980190965], ["LIMIT", 1]]
  [1m[36mThermostat Update (0.6ms)[0m  [1m[33mUPDATE "thermostats" SET "location" = $1, "updated_at" = $2 WHERE "thermostats"."id" = $3[0m  [["location", "{\"city\":\"city1\"}"], ["updated_at", "2019-07-03 20:10:34.730097"], ["id", 980190965]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.4ms | ActiveRecord: 1.8ms | Allocations: 1454)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.3ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:10:48.587964', '2019-07-03 20:10:48.587964'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:10:48.587964', '2019-07-03 20:10:48.587964');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:10:48.596110', '2019-07-03 20:10:48.596110'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:10:48.596110', '2019-07-03 20:10:48.596110');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:10:48.600636', '2019-07-03 20:10:48.600636'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:10:48.600636', '2019-07-03 20:10:48.600636')[0m
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ThermostatsControllerTest: test_should_destroy_thermostat
---------------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_create_thermostat
--------------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
Started POST "/thermostats" for 127.0.0.1 at 2019-07-03 20:10:48 +0000
Processing by ThermostatsController#create as JSON
  Parameters: {"thermostat"=>{"household_token"=>"h123", "location"=>{"city"=>"city1"}}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:10:48.775984"], ["updated_at", "2019-07-03 20:10:48.775984"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 24ms (Views: 1.8ms | ActiveRecord: 1.5ms | Allocations: 4999)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ThermostatsControllerTest: test_should_get_index
------------------------------------------------
Started GET "/thermostats" for 127.0.0.1 at 2019-07-03 20:10:48 +0000
Processing by ThermostatsController#index as JSON
  Parameters: {"thermostat"=>{}}
  [1m[36mThermostat Load (0.5ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats"[0m
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.5ms | Allocations: 561)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_update_thermostat
--------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:10:48.855655"], ["updated_at", "2019-07-03 20:10:48.855655"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/thermostats/h123" for 127.0.0.1 at 2019-07-03 20:10:48 +0000
Processing by ThermostatsController#update as HTML
  Parameters: {"thermostat"=>{"household_token"=>"h123", "location"=>{"city"=>"city1"}}, "id"=>"h123"}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 AND "thermostats"."id" != $2 LIMIT $3[0m  [["household_token", "h123"], ["id", 980190964], ["LIMIT", 1]]
  [1m[36mThermostat Update (0.6ms)[0m  [1m[33mUPDATE "thermostats" SET "location" = $1, "updated_at" = $2 WHERE "thermostats"."id" = $3[0m  [["location", "{\"city\":\"city1\"}"], ["updated_at", "2019-07-03 20:10:48.934350"], ["id", 980190964]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 13ms (Views: 1.1ms | ActiveRecord: 2.1ms | Allocations: 1668)
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ThermostatsControllerTest: test_should_show_thermostat
------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:10:48.948750"], ["updated_at", "2019-07-03 20:10:48.948750"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h123" for 127.0.0.1 at 2019-07-03 20:10:48 +0000
Processing by ThermostatsController#show as HTML
  Parameters: {"id"=>"h123"}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 351)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.4ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:12:06.944783', '2019-07-03 20:12:06.944783'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:12:06.944783', '2019-07-03 20:12:06.944783');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:12:06.951072', '2019-07-03 20:12:06.951072'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:12:06.951072', '2019-07-03 20:12:06.951072');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:12:06.955874', '2019-07-03 20:12:06.955874'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:12:06.955874', '2019-07-03 20:12:06.955874')[0m
  [1m[35m (5.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_create_thermostat
--------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:12:07.061969"], ["updated_at", "2019-07-03 20:12:07.061969"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
Started POST "/thermostats" for 127.0.0.1 at 2019-07-03 20:12:07 +0000
Processing by ThermostatsController#create as JSON
  Parameters: {"thermostat"=>{"household_token"=>"h123", "location"=>{"city"=>"city1"}}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 20ms (Views: 0.5ms | ActiveRecord: 1.0ms | Allocations: 2361)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ThermostatsControllerTest: test_should_show_thermostat
------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:12:07.166208"], ["updated_at", "2019-07-03 20:12:07.166208"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_update_thermostat
--------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.6ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:12:07.189543"], ["updated_at", "2019-07-03 20:12:07.189543"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ThermostatsControllerTest: test_should_get_index
------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.6ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:12:07.218888"], ["updated_at", "2019-07-03 20:12:07.218888"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats" for 127.0.0.1 at 2019-07-03 20:12:07 +0000
Processing by ThermostatsController#index as JSON
  Parameters: {"thermostat"=>{}}
  [1m[36mThermostat Load (0.5ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats"[0m
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.5ms | Allocations: 731)
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ThermostatsControllerTest: test_should_destroy_thermostat
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:12:07.298396"], ["updated_at", "2019-07-03 20:12:07.298396"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
Started DELETE "/thermostats/h123" for 127.0.0.1 at 2019-07-03 20:12:07 +0000
Processing by ThermostatsController#destroy as HTML
  Parameters: {"id"=>"h123"}
  [1m[36mThermostat Load (0.7ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Destroy (0.4ms)[0m  [1m[31mDELETE FROM "thermostats" WHERE "thermostats"."id" = $1[0m  [["id", 980190967]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 2.0ms | Allocations: 629)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (2.6ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:12:25.342396', '2019-07-03 20:12:25.342396'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:12:25.342396', '2019-07-03 20:12:25.342396');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:12:25.351024', '2019-07-03 20:12:25.351024'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:12:25.351024', '2019-07-03 20:12:25.351024');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:12:25.358916', '2019-07-03 20:12:25.358916'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:12:25.358916', '2019-07-03 20:12:25.358916')[0m
  [1m[35m (4.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_create_thermostat
--------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.6ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:12:25.497123"], ["updated_at", "2019-07-03 20:12:25.497123"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
Started POST "/thermostats" for 127.0.0.1 at 2019-07-03 20:12:25 +0000
Processing by ThermostatsController#create as JSON
  Parameters: {"thermostat"=>{"household_token"=>"h123", "location"=>{"city"=>"city1"}}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 18ms (Views: 0.5ms | ActiveRecord: 0.8ms | Allocations: 2361)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ThermostatsControllerTest: test_should_get_index
------------------------------------------------
  [1m[35m (3.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.6ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:12:25.620853"], ["updated_at", "2019-07-03 20:12:25.620853"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats" for 127.0.0.1 at 2019-07-03 20:12:25 +0000
Processing by ThermostatsController#index as JSON
  Parameters: {"thermostat"=>{}}
  [1m[36mThermostat Load (0.5ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats"[0m
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.5ms | Allocations: 731)
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ThermostatsControllerTest: test_should_destroy_thermostat
---------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (2.1ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:12:25.690422"], ["updated_at", "2019-07-03 20:12:25.690422"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
Started DELETE "/thermostats/h123" for 127.0.0.1 at 2019-07-03 20:12:25 +0000
Processing by ThermostatsController#destroy as HTML
  Parameters: {"id"=>"h123"}
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Destroy (0.7ms)[0m  [1m[31mDELETE FROM "thermostats" WHERE "thermostats"."id" = $1[0m  [["id", 980190965]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 1.1ms | ActiveRecord: 1.6ms | Allocations: 627)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ThermostatsControllerTest: test_should_show_thermostat
------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.7ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:12:25.771994"], ["updated_at", "2019-07-03 20:12:25.771994"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_update_thermostat
--------------------------------------------------------
  [1m[35m (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.6ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:12:25.801442"], ["updated_at", "2019-07-03 20:12:25.801442"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.4ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:13:27.087100', '2019-07-03 20:13:27.087100'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:13:27.087100', '2019-07-03 20:13:27.087100');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:13:27.096618', '2019-07-03 20:13:27.096618'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:13:27.096618', '2019-07-03 20:13:27.096618');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:13:27.100953', '2019-07-03 20:13:27.100953'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:13:27.100953', '2019-07-03 20:13:27.100953')[0m
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_create_thermostat
--------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:13:27.191341"], ["updated_at", "2019-07-03 20:13:27.191341"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
Started POST "/thermostats" for 127.0.0.1 at 2019-07-03 20:13:27 +0000
Processing by ThermostatsController#create as JSON
  Parameters: {"thermostat"=>{"household_token"=>"h123", "location"=>{"city"=>"city1"}}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 19ms (Views: 0.5ms | ActiveRecord: 0.9ms | Allocations: 2361)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ThermostatsControllerTest: test_should_get_index
------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:13:27.297704"], ["updated_at", "2019-07-03 20:13:27.297704"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats" for 127.0.0.1 at 2019-07-03 20:13:27 +0000
Processing by ThermostatsController#index as JSON
  Parameters: {"thermostat"=>{}}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats"[0m
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.4ms | Allocations: 731)
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ThermostatsControllerTest: test_should_show_thermostat
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:13:27.366414"], ["updated_at", "2019-07-03 20:13:27.366414"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h1234"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.6ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h1234"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:13:27.371287"], ["updated_at", "2019-07-03 20:13:27.371287"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h1234" for 127.0.0.1 at 2019-07-03 20:13:27 +0000
Processing by ThermostatsController#show as HTML
  Parameters: {"id"=>"h1234"}
  [1m[36mThermostat Load (0.6ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h1234"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 1.3ms | ActiveRecord: 0.9ms | Allocations: 565)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_update_thermostat
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:13:27.434631"], ["updated_at", "2019-07-03 20:13:27.434631"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ThermostatsControllerTest: test_should_destroy_thermostat
---------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.6ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:13:27.459184"], ["updated_at", "2019-07-03 20:13:27.459184"]]
  [1m[35m (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
Started DELETE "/thermostats/h123" for 127.0.0.1 at 2019-07-03 20:13:27 +0000
Processing by ThermostatsController#destroy as HTML
  Parameters: {"id"=>"h123"}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Destroy (0.4ms)[0m  [1m[31mDELETE FROM "thermostats" WHERE "thermostats"."id" = $1[0m  [["id", 980190968]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 413)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.6ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:14:17.690084', '2019-07-03 20:14:17.690084'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:14:17.690084', '2019-07-03 20:14:17.690084');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:14:17.697536', '2019-07-03 20:14:17.697536'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:14:17.697536', '2019-07-03 20:14:17.697536');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:14:17.701999', '2019-07-03 20:14:17.701999'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:14:17.701999', '2019-07-03 20:14:17.701999')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_create_thermostat
--------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:14:17.797743"], ["updated_at", "2019-07-03 20:14:17.797743"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
Started POST "/thermostats" for 127.0.0.1 at 2019-07-03 20:14:17 +0000
Processing by ThermostatsController#create as JSON
  Parameters: {"thermostat"=>{"household_token"=>"h1235", "location"=>{"city"=>"city1"}}}
  [1m[35m (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h1235"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h1235"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:14:17.879085"], ["updated_at", "2019-07-03 20:14:17.879085"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 11ms (Views: 1.8ms | ActiveRecord: 2.5ms | Allocations: 1452)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ThermostatsControllerTest: test_should_show_thermostat
------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:14:17.902009"], ["updated_at", "2019-07-03 20:14:17.902009"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h1234"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h1234"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:14:17.909554"], ["updated_at", "2019-07-03 20:14:17.909554"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h1234" for 127.0.0.1 at 2019-07-03 20:14:17 +0000
Processing by ThermostatsController#show as HTML
  Parameters: {"id"=>"h1234"}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h1234"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 1.8ms | Allocations: 615)
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_update_thermostat
--------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.6ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:14:17.991297"], ["updated_at", "2019-07-03 20:14:17.991297"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ThermostatsControllerTest: test_should_destroy_thermostat
---------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (1.6ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:14:18.049070"], ["updated_at", "2019-07-03 20:14:18.049070"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
Started DELETE "/thermostats/h123" for 127.0.0.1 at 2019-07-03 20:14:18 +0000
Processing by ThermostatsController#destroy as HTML
  Parameters: {"id"=>"h123"}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Destroy (0.6ms)[0m  [1m[31mDELETE FROM "thermostats" WHERE "thermostats"."id" = $1[0m  [["id", 980190968]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.9ms | ActiveRecord: 1.5ms | Allocations: 413)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ThermostatsControllerTest: test_should_get_index
------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.9ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:14:18.164474"], ["updated_at", "2019-07-03 20:14:18.164474"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats" for 127.0.0.1 at 2019-07-03 20:14:18 +0000
Processing by ThermostatsController#index as JSON
  Parameters: {"thermostat"=>{}}
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats"[0m
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.3ms | Allocations: 670)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.4ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:14:36.266751', '2019-07-03 20:14:36.266751'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:14:36.266751', '2019-07-03 20:14:36.266751');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:14:36.281251', '2019-07-03 20:14:36.281251'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:14:36.281251', '2019-07-03 20:14:36.281251');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:14:36.290397', '2019-07-03 20:14:36.290397'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:14:36.290397', '2019-07-03 20:14:36.290397')[0m
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_update_thermostat
--------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.6ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:14:36.448410"], ["updated_at", "2019-07-03 20:14:36.448410"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h1236"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.6ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h1236"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:14:36.466005"], ["updated_at", "2019-07-03 20:14:36.466005"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/thermostats/h1236" for 127.0.0.1 at 2019-07-03 20:14:36 +0000
Processing by ThermostatsController#update as HTML
  Parameters: {"thermostat"=>{"household_token"=>"h1235", "location"=>{"city"=>"city1"}}, "id"=>"h1236"}
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h1236"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 AND "thermostats"."id" != $2 LIMIT $3[0m  [["household_token", "h1235"], ["id", 980190964], ["LIMIT", 1]]
  [1m[36mThermostat Update (0.5ms)[0m  [1m[33mUPDATE "thermostats" SET "household_token" = $1, "location" = $2, "updated_at" = $3 WHERE "thermostats"."id" = $4[0m  [["household_token", "h1235"], ["location", "{\"city\":\"city1\"}"], ["updated_at", "2019-07-03 20:14:36.569482"], ["id", 980190964]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 16ms (Views: 0.8ms | ActiveRecord: 2.4ms | Allocations: 1850)
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_create_thermostat
--------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (2.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.6ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:14:36.598340"], ["updated_at", "2019-07-03 20:14:36.598340"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
Started POST "/thermostats" for 127.0.0.1 at 2019-07-03 20:14:36 +0000
Processing by ThermostatsController#create as JSON
  Parameters: {"thermostat"=>{"household_token"=>"h1235", "location"=>{"city"=>"city1"}}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h1235"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h1235"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:14:36.681646"], ["updated_at", "2019-07-03 20:14:36.681646"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 9ms (Views: 1.5ms | ActiveRecord: 1.3ms | Allocations: 1335)
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ThermostatsControllerTest: test_should_destroy_thermostat
---------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (1.0ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:14:36.699458"], ["updated_at", "2019-07-03 20:14:36.699458"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
Started DELETE "/thermostats/h123" for 127.0.0.1 at 2019-07-03 20:14:36 +0000
Processing by ThermostatsController#destroy as HTML
  Parameters: {"id"=>"h123"}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Destroy (0.3ms)[0m  [1m[31mDELETE FROM "thermostats" WHERE "thermostats"."id" = $1[0m  [["id", 980190967]]
  [1m[35m (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 411)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ThermostatsControllerTest: test_should_get_index
------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.6ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:14:36.799640"], ["updated_at", "2019-07-03 20:14:36.799640"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats" for 127.0.0.1 at 2019-07-03 20:14:36 +0000
Processing by ThermostatsController#index as JSON
  Parameters: {"thermostat"=>{}}
  [1m[36mThermostat Load (1.9ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats"[0m
Completed 200 OK in 6ms (Views: 3.7ms | ActiveRecord: 1.9ms | Allocations: 670)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ThermostatsControllerTest: test_should_show_thermostat
------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.6ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:14:36.885826"], ["updated_at", "2019-07-03 20:14:36.885826"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h1234"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h1234"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:14:36.896790"], ["updated_at", "2019-07-03 20:14:36.896790"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h1234" for 127.0.0.1 at 2019-07-03 20:14:36 +0000
Processing by ThermostatsController#show as HTML
  Parameters: {"id"=>"h1234"}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h1234"], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.4ms | Allocations: 351)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (2.5ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:15:26.196057', '2019-07-03 20:15:26.196057'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:15:26.196057', '2019-07-03 20:15:26.196057');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:15:26.206166', '2019-07-03 20:15:26.206166'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:15:26.206166', '2019-07-03 20:15:26.206166');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:15:26.214227', '2019-07-03 20:15:26.214227'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:15:26.214227', '2019-07-03 20:15:26.214227')[0m
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ThermostatsControllerTest: test_should_destroy_thermostat
---------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:15:26.333138"], ["updated_at", "2019-07-03 20:15:26.333138"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
Started DELETE "/thermostats/h123" for 127.0.0.1 at 2019-07-03 20:15:26 +0000
Processing by ThermostatsController#destroy as HTML
  Parameters: {"id"=>"h123"}
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Destroy (0.4ms)[0m  [1m[31mDELETE FROM "thermostats" WHERE "thermostats"."id" = $1[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 7ms (Views: 0.9ms | ActiveRecord: 1.4ms | Allocations: 781)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_create_thermostat
--------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.6ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:15:26.458467"], ["updated_at", "2019-07-03 20:15:26.458467"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
Started POST "/thermostats" for 127.0.0.1 at 2019-07-03 20:15:26 +0000
Processing by ThermostatsController#create as JSON
  Parameters: {"thermostat"=>{"household_token"=>"h1235", "location"=>{"city"=>"city1"}}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h1235"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.6ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h1235"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:15:26.519392"], ["updated_at", "2019-07-03 20:15:26.519392"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 13ms (Views: 3.1ms | ActiveRecord: 1.8ms | Allocations: 1347)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ThermostatsControllerTest: test_should_get_index
------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (1.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:15:26.538601"], ["updated_at", "2019-07-03 20:15:26.538601"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats" for 127.0.0.1 at 2019-07-03 20:15:26 +0000
Processing by ThermostatsController#index as JSON
  Parameters: {"thermostat"=>{}}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats"[0m
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.4ms | Allocations: 670)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ThermostatsControllerTest: test_should_show_thermostat
------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.6ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:15:26.653079"], ["updated_at", "2019-07-03 20:15:26.653079"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h1234"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h1234"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:15:26.659655"], ["updated_at", "2019-07-03 20:15:26.659655"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h1234" for 127.0.0.1 at 2019-07-03 20:15:26 +0000
Processing by ThermostatsController#show as HTML
  Parameters: {"id"=>"h1234"}
  [1m[36mThermostat Load (0.8ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h1234"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 1.3ms | ActiveRecord: 0.8ms | Allocations: 351)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_update_thermostat
--------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 20:15:26.717211"], ["updated_at", "2019-07-03 20:15:26.717211"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h1236"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.8ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h1236"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:15:26.723243"], ["updated_at", "2019-07-03 20:15:26.723243"]]
  [1m[35m (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/thermostats/h1236" for 127.0.0.1 at 2019-07-03 20:15:26 +0000
Processing by ThermostatsController#update as HTML
  Parameters: {"thermostat"=>{"household_token"=>"h1235", "location"=>{"city"=>"city1"}}, "id"=>"h1236"}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h1236"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 AND "thermostats"."id" != $2 LIMIT $3[0m  [["household_token", "h1235"], ["id", 980190970], ["LIMIT", 1]]
  [1m[36mThermostat Update (0.5ms)[0m  [1m[33mUPDATE "thermostats" SET "household_token" = $1, "location" = $2, "updated_at" = $3 WHERE "thermostats"."id" = $4[0m  [["household_token", "h1235"], ["location", "{\"city\":\"city1\"}"], ["updated_at", "2019-07-03 20:15:26.777181"], ["id", 980190970]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.6ms | ActiveRecord: 2.4ms | Allocations: 1465)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (2.0ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:16:35.445710', '2019-07-03 20:16:35.445710'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:16:35.445710', '2019-07-03 20:16:35.445710');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:16:35.452394', '2019-07-03 20:16:35.452394'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:16:35.452394', '2019-07-03 20:16:35.452394');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:16:35.459201', '2019-07-03 20:16:35.459201'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:16:35.459201', '2019-07-03 20:16:35.459201')[0m
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ReadingsControllerTest: test_should_create_reading
--------------------------------------------------
  [1m[36mReading Load (0.5ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ReadingsControllerTest: test_should_update_reading
--------------------------------------------------
  [1m[36mReading Load (0.5ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.6ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ReadingsControllerTest: test_should_destroy_reading
---------------------------------------------------
  [1m[36mReading Load (0.8ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ReadingsControllerTest: test_should_show_reading
------------------------------------------------
  [1m[36mReading Load (0.4ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.6ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:17:41.924740', '2019-07-03 20:17:41.924740'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:17:41.924740', '2019-07-03 20:17:41.924740');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:17:41.933451', '2019-07-03 20:17:41.933451'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:17:41.933451', '2019-07-03 20:17:41.933451');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:17:41.938304', '2019-07-03 20:17:41.938304'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:17:41.938304', '2019-07-03 20:17:41.938304')[0m
  [1m[35m (4.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.5ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
ReadingsControllerTest: test_should_destroy_reading
---------------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ReadingsControllerTest: test_should_show_reading
------------------------------------------------
  [1m[36mReading Load (0.6ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ReadingsControllerTest: test_should_update_reading
--------------------------------------------------
  [1m[36mReading Load (0.6ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ReadingsControllerTest: test_should_create_reading
--------------------------------------------------
  [1m[36mReading Load (0.5ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.8ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:19:23.430021', '2019-07-03 20:19:23.430021'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:19:23.430021', '2019-07-03 20:19:23.430021');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:19:23.437185', '2019-07-03 20:19:23.437185'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:19:23.437185', '2019-07-03 20:19:23.437185');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:19:23.441117', '2019-07-03 20:19:23.441117'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:19:23.441117', '2019-07-03 20:19:23.441117')[0m
  [1m[35m (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.4ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/thermostats/980190962/readings" for 127.0.0.1 at 2019-07-03 20:19:23 +0000
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:20:00.593724', '2019-07-03 20:20:00.593724'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:20:00.593724', '2019-07-03 20:20:00.593724');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:20:00.600113', '2019-07-03 20:20:00.600113'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:20:00.600113', '2019-07-03 20:20:00.600113');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:20:00.604218', '2019-07-03 20:20:00.604218'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:20:00.604218', '2019-07-03 20:20:00.604218')[0m
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.5ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/thermostats/MyText/readings" for 127.0.0.1 at 2019-07-03 20:20:00 +0000
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.7ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:21:19.282032', '2019-07-03 20:21:19.282032'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:21:19.282032', '2019-07-03 20:21:19.282032');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:21:19.288385', '2019-07-03 20:21:19.288385'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:21:19.288385', '2019-07-03 20:21:19.288385');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:21:19.295533', '2019-07-03 20:21:19.295533'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:21:19.295533', '2019-07-03 20:21:19.295533')[0m
  [1m[35m (5.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/thermostats/MyText/readings" for 127.0.0.1 at 2019-07-03 20:21:19 +0000
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.3ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:22:42.697764', '2019-07-03 20:22:42.697764'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:22:42.697764', '2019-07-03 20:22:42.697764');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:22:42.707298', '2019-07-03 20:22:42.707298'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:22:42.707298', '2019-07-03 20:22:42.707298');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:22:42.712975', '2019-07-03 20:22:42.712975'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:22:42.712975', '2019-07-03 20:22:42.712975')[0m
  [1m[35m (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.6ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mThermostat Load (0.5ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.3ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:24:53.657986', '2019-07-03 20:24:53.657986'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:24:53.657986', '2019-07-03 20:24:53.657986');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:24:53.665618', '2019-07-03 20:24:53.665618'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:24:53.665618', '2019-07-03 20:24:53.665618');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:24:53.670558', '2019-07-03 20:24:53.670558'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:24:53.670558', '2019-07-03 20:24:53.670558')[0m
  [1m[35m (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (2.2ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:25:51.426783', '2019-07-03 20:25:51.426783'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:25:51.426783', '2019-07-03 20:25:51.426783');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:25:51.433852', '2019-07-03 20:25:51.433852'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:25:51.433852', '2019-07-03 20:25:51.433852');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:25:51.438203', '2019-07-03 20:25:51.438203'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:25:51.438203', '2019-07-03 20:25:51.438203')[0m
  [1m[35m (4.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (1.2ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:26:05.586369', '2019-07-03 20:26:05.586369'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:26:05.586369', '2019-07-03 20:26:05.586369');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:26:05.591760', '2019-07-03 20:26:05.591760'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:26:05.591760', '2019-07-03 20:26:05.591760');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:26:05.595726', '2019-07-03 20:26:05.595726'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:26:05.595726', '2019-07-03 20:26:05.595726')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.7ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.5ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:27:55.464728', '2019-07-03 20:27:55.464728'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:27:55.464728', '2019-07-03 20:27:55.464728');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:27:55.473949', '2019-07-03 20:27:55.473949'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:27:55.473949', '2019-07-03 20:27:55.473949');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:27:55.478425', '2019-07-03 20:27:55.478425'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:27:55.478425', '2019-07-03 20:27:55.478425')[0m
  [1m[35m (4.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (2.4ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:28:13.377230', '2019-07-03 20:28:13.377230'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:28:13.377230', '2019-07-03 20:28:13.377230');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:28:13.392459', '2019-07-03 20:28:13.392459'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:28:13.392459', '2019-07-03 20:28:13.392459');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:28:13.399982', '2019-07-03 20:28:13.399982'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:28:13.399982', '2019-07-03 20:28:13.399982')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:28:51.907102', '2019-07-03 20:28:51.907102'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:28:51.907102', '2019-07-03 20:28:51.907102');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:28:51.915227', '2019-07-03 20:28:51.915227'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:28:51.915227', '2019-07-03 20:28:51.915227');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:28:51.919348', '2019-07-03 20:28:51.919348'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:28:51.919348', '2019-07-03 20:28:51.919348')[0m
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (2.2ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:29:17.661762', '2019-07-03 20:29:17.661762'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:29:17.661762', '2019-07-03 20:29:17.661762');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:29:17.669287', '2019-07-03 20:29:17.669287'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:29:17.669287', '2019-07-03 20:29:17.669287');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:29:17.676036', '2019-07-03 20:29:17.676036'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:29:17.676036', '2019-07-03 20:29:17.676036')[0m
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.4ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.1ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:29:48.436458', '2019-07-03 20:29:48.436458'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:29:48.436458', '2019-07-03 20:29:48.436458');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:29:48.445809', '2019-07-03 20:29:48.445809'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:29:48.445809', '2019-07-03 20:29:48.445809');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:29:48.450292', '2019-07-03 20:29:48.450292'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:29:48.450292', '2019-07-03 20:29:48.450292')[0m
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.4ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:30:04.693396', '2019-07-03 20:30:04.693396'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:30:04.693396', '2019-07-03 20:30:04.693396');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:30:04.702591', '2019-07-03 20:30:04.702591'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:30:04.702591', '2019-07-03 20:30:04.702591');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:30:04.710266', '2019-07-03 20:30:04.710266'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:30:04.710266', '2019-07-03 20:30:04.710266')[0m
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.6ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.3ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:30:53.227124', '2019-07-03 20:30:53.227124'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:30:53.227124', '2019-07-03 20:30:53.227124');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:30:53.234441', '2019-07-03 20:30:53.234441'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:30:53.234441', '2019-07-03 20:30:53.234441');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:30:53.238986', '2019-07-03 20:30:53.238986'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:30:53.238986', '2019-07-03 20:30:53.238986')[0m
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:30:53.338647"], ["updated_at", "2019-07-03 20:30:53.338647"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.7ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:31:00.393674', '2019-07-03 20:31:00.393674'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:31:00.393674', '2019-07-03 20:31:00.393674');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:31:00.401346', '2019-07-03 20:31:00.401346'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:31:00.401346', '2019-07-03 20:31:00.401346');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:31:00.407548', '2019-07-03 20:31:00.407548'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:31:00.407548', '2019-07-03 20:31:00.407548')[0m
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.4ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:31:00.509241"], ["updated_at", "2019-07-03 20:31:00.509241"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h12345" for 127.0.0.1 at 2019-07-03 20:31:00 +0000
Processing by ThermostatsController#show as HTML
  Parameters: {"id"=>"h12345"}
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 678)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.4ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:31:14.185416', '2019-07-03 20:31:14.185416'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:31:14.185416', '2019-07-03 20:31:14.185416');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:31:14.191297', '2019-07-03 20:31:14.191297'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:31:14.191297', '2019-07-03 20:31:14.191297');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:31:14.196825', '2019-07-03 20:31:14.196825'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:31:14.196825', '2019-07-03 20:31:14.196825')[0m
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.8ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:31:14.300017"], ["updated_at", "2019-07-03 20:31:14.300017"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h12345/readings" for 127.0.0.1 at 2019-07-03 20:31:14 +0000
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.4ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:31:43.408570', '2019-07-03 20:31:43.408570'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:31:43.408570', '2019-07-03 20:31:43.408570');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:31:43.416557', '2019-07-03 20:31:43.416557'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:31:43.416557', '2019-07-03 20:31:43.416557');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:31:43.423341', '2019-07-03 20:31:43.423341'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:31:43.423341', '2019-07-03 20:31:43.423341')[0m
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.5ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:31:43.548812"], ["updated_at", "2019-07-03 20:31:43.548812"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h12345/readings/" for 127.0.0.1 at 2019-07-03 20:31:43 +0000
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (2.2ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:36:00.367620', '2019-07-03 20:36:00.367620'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:36:00.367620', '2019-07-03 20:36:00.367620');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:36:00.374396', '2019-07-03 20:36:00.374396'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:36:00.374396', '2019-07-03 20:36:00.374396');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:36:00.379629', '2019-07-03 20:36:00.379629'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:36:00.379629', '2019-07-03 20:36:00.379629')[0m
  [1m[35m (5.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:36:00.516389"], ["updated_at", "2019-07-03 20:36:00.516389"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h12345/readings" for 127.0.0.1 at 2019-07-03 20:36:00 +0000
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.4ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:36:12.874312', '2019-07-03 20:36:12.874312'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:36:12.874312', '2019-07-03 20:36:12.874312');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:36:12.881640', '2019-07-03 20:36:12.881640'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:36:12.881640', '2019-07-03 20:36:12.881640');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:36:12.885630', '2019-07-03 20:36:12.885630'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:36:12.885630', '2019-07-03 20:36:12.885630')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:36:12.984026"], ["updated_at", "2019-07-03 20:36:12.984026"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/980190963/readings" for 127.0.0.1 at 2019-07-03 20:36:12 +0000
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.7ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:36:28.863267', '2019-07-03 20:36:28.863267'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:36:28.863267', '2019-07-03 20:36:28.863267');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:36:28.869838', '2019-07-03 20:36:28.869838'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:36:28.869838', '2019-07-03 20:36:28.869838');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:36:28.875759', '2019-07-03 20:36:28.875759'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:36:28.875759', '2019-07-03 20:36:28.875759')[0m
  [1m[35m (4.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.5ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:36:28.977488"], ["updated_at", "2019-07-03 20:36:28.977488"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:36:40.044091', '2019-07-03 20:36:40.044091'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:36:40.044091', '2019-07-03 20:36:40.044091');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:36:40.049898', '2019-07-03 20:36:40.049898'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:36:40.049898', '2019-07-03 20:36:40.049898');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:36:40.054312', '2019-07-03 20:36:40.054312'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:36:40.054312', '2019-07-03 20:36:40.054312')[0m
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.7ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:36:40.153991"], ["updated_at", "2019-07-03 20:36:40.153991"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/980190963/readings" for 127.0.0.1 at 2019-07-03 20:36:40 +0000
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:37:35.918186', '2019-07-03 20:37:35.918186'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:37:35.918186', '2019-07-03 20:37:35.918186');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:37:35.924061', '2019-07-03 20:37:35.924061'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:37:35.924061', '2019-07-03 20:37:35.924061');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:37:35.929966', '2019-07-03 20:37:35.929966'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:37:35.929966', '2019-07-03 20:37:35.929966')[0m
  [1m[35m (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.6ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:37:36.028247"], ["updated_at", "2019-07-03 20:37:36.028247"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.5ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:37:55.988005', '2019-07-03 20:37:55.988005'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:37:55.988005', '2019-07-03 20:37:55.988005');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:37:55.996533', '2019-07-03 20:37:55.996533'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:37:55.996533', '2019-07-03 20:37:55.996533');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:37:56.001062', '2019-07-03 20:37:56.001062'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:37:56.001062', '2019-07-03 20:37:56.001062')[0m
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.9ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.8ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:37:56.118135"], ["updated_at", "2019-07-03 20:37:56.118135"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (2.0ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:39:37.270722', '2019-07-03 20:39:37.270722'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:39:37.270722', '2019-07-03 20:39:37.270722');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:39:37.277032', '2019-07-03 20:39:37.277032'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:39:37.277032', '2019-07-03 20:39:37.277032');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:39:37.282974', '2019-07-03 20:39:37.282974'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:39:37.282974', '2019-07-03 20:39:37.282974')[0m
  [1m[35m (3.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.5ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:39:37.418109"], ["updated_at", "2019-07-03 20:39:37.418109"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.4ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:41:28.932138', '2019-07-03 20:41:28.932138'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:41:28.932138', '2019-07-03 20:41:28.932138');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:41:28.940624', '2019-07-03 20:41:28.940624'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:41:28.940624', '2019-07-03 20:41:28.940624');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:41:28.944502', '2019-07-03 20:41:28.944502'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:41:28.944502', '2019-07-03 20:41:28.944502')[0m
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.9ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:41:29.041195"], ["updated_at", "2019-07-03 20:41:29.041195"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (3.0ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:41:50.361035', '2019-07-03 20:41:50.361035'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:41:50.361035', '2019-07-03 20:41:50.361035');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:41:50.366958', '2019-07-03 20:41:50.366958'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:41:50.366958', '2019-07-03 20:41:50.366958');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:41:50.376740', '2019-07-03 20:41:50.376740'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:41:50.376740', '2019-07-03 20:41:50.376740')[0m
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:41:50.482565"], ["updated_at", "2019-07-03 20:41:50.482565"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:42:11.270079', '2019-07-03 20:42:11.270079'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:42:11.270079', '2019-07-03 20:42:11.270079');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:42:11.277642', '2019-07-03 20:42:11.277642'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:42:11.277642', '2019-07-03 20:42:11.277642');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:42:11.281591', '2019-07-03 20:42:11.281591'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:42:11.281591', '2019-07-03 20:42:11.281591')[0m
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.8ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:42:11.380678"], ["updated_at", "2019-07-03 20:42:11.380678"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.5ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:43:32.343608', '2019-07-03 20:43:32.343608'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:43:32.343608', '2019-07-03 20:43:32.343608');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:43:32.348902', '2019-07-03 20:43:32.348902'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:43:32.348902', '2019-07-03 20:43:32.348902');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:43:32.353510', '2019-07-03 20:43:32.353510'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:43:32.353510', '2019-07-03 20:43:32.353510')[0m
  [1m[35m (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:43:32.452814"], ["updated_at", "2019-07-03 20:43:32.452814"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.5ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:44:05.897647', '2019-07-03 20:44:05.897647'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:44:05.897647', '2019-07-03 20:44:05.897647');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:44:05.903568', '2019-07-03 20:44:05.903568'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:44:05.903568', '2019-07-03 20:44:05.903568');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:44:05.909402', '2019-07-03 20:44:05.909402'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:44:05.909402', '2019-07-03 20:44:05.909402')[0m
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:44:06.017224"], ["updated_at", "2019-07-03 20:44:06.017224"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h12345/readings/" for 127.0.0.1 at 2019-07-03 20:44:06 +0000
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.3ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:49:50.194818', '2019-07-03 20:49:50.194818'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:49:50.194818', '2019-07-03 20:49:50.194818');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:49:50.205429', '2019-07-03 20:49:50.205429'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:49:50.205429', '2019-07-03 20:49:50.205429');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:49:50.210527', '2019-07-03 20:49:50.210527'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:49:50.210527', '2019-07-03 20:49:50.210527')[0m
  [1m[35m (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:49:50.340292"], ["updated_at", "2019-07-03 20:49:50.340292"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (2.2ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:54:58.518899', '2019-07-03 20:54:58.518899'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:54:58.518899', '2019-07-03 20:54:58.518899');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:54:58.524940', '2019-07-03 20:54:58.524940'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:54:58.524940', '2019-07-03 20:54:58.524940');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:54:58.562975', '2019-07-03 20:54:58.562975'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:54:58.562975', '2019-07-03 20:54:58.562975')[0m
  [1m[35m (8.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:54:58.671241"], ["updated_at", "2019-07-03 20:54:58.671241"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.8ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:56:06.188647', '2019-07-03 20:56:06.188647'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:56:06.188647', '2019-07-03 20:56:06.188647');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:56:06.199278', '2019-07-03 20:56:06.199278'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:56:06.199278', '2019-07-03 20:56:06.199278');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:56:06.205553', '2019-07-03 20:56:06.205553'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:56:06.205553', '2019-07-03 20:56:06.205553')[0m
  [1m[35m (4.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.5ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:56:06.349708"], ["updated_at", "2019-07-03 20:56:06.349708"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats" for 127.0.0.1 at 2019-07-03 20:56:06 +0000
Processing by ThermostatsController#index as HTML
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats"[0m
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.4ms | Allocations: 810)
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (2.4ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:56:30.271057', '2019-07-03 20:56:30.271057'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:56:30.271057', '2019-07-03 20:56:30.271057');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:56:30.276602', '2019-07-03 20:56:30.276602'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:56:30.276602', '2019-07-03 20:56:30.276602');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:56:30.283081', '2019-07-03 20:56:30.283081'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:56:30.283081', '2019-07-03 20:56:30.283081')[0m
  [1m[35m (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (1.4ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:56:30.383210"], ["updated_at", "2019-07-03 20:56:30.383210"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.3ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:56:56.012313', '2019-07-03 20:56:56.012313'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:56:56.012313', '2019-07-03 20:56:56.012313');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:56:56.018383', '2019-07-03 20:56:56.018383'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:56:56.018383', '2019-07-03 20:56:56.018383');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:56:56.024346', '2019-07-03 20:56:56.024346'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:56:56.024346', '2019-07-03 20:56:56.024346')[0m
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.7ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:56:56.146831"], ["updated_at", "2019-07-03 20:56:56.146831"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.4ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:57:07.350765', '2019-07-03 20:57:07.350765'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:57:07.350765', '2019-07-03 20:57:07.350765');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:57:07.356265', '2019-07-03 20:57:07.356265'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:57:07.356265', '2019-07-03 20:57:07.356265');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:57:07.361992', '2019-07-03 20:57:07.361992'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:57:07.361992', '2019-07-03 20:57:07.361992')[0m
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:57:07.461167"], ["updated_at", "2019-07-03 20:57:07.461167"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h12345" for 127.0.0.1 at 2019-07-03 20:57:07 +0000
Processing by ThermostatsController#show as HTML
  Parameters: {"id"=>"h12345"}
  [1m[36mThermostat Load (0.6ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.6ms | Allocations: 678)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:57:18.252270', '2019-07-03 20:57:18.252270'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:57:18.252270', '2019-07-03 20:57:18.252270');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:57:18.259539', '2019-07-03 20:57:18.259539'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:57:18.259539', '2019-07-03 20:57:18.259539');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:57:18.265519', '2019-07-03 20:57:18.265519'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:57:18.265519', '2019-07-03 20:57:18.265519')[0m
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:57:18.372201"], ["updated_at", "2019-07-03 20:57:18.372201"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h12345/readings" for 127.0.0.1 at 2019-07-03 20:57:18 +0000
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.1ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:57:49.874266', '2019-07-03 20:57:49.874266'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:57:49.874266', '2019-07-03 20:57:49.874266');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:57:49.883348', '2019-07-03 20:57:49.883348'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:57:49.883348', '2019-07-03 20:57:49.883348');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:57:49.887613', '2019-07-03 20:57:49.887613'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:57:49.887613', '2019-07-03 20:57:49.887613')[0m
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (1.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:57:50.018556"], ["updated_at", "2019-07-03 20:57:50.018556"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/readings" for 127.0.0.1 at 2019-07-03 20:57:50 +0000
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.4ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 20:58:30.036042', '2019-07-03 20:58:30.036042'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 20:58:30.036042', '2019-07-03 20:58:30.036042');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 20:58:30.043047', '2019-07-03 20:58:30.043047'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 20:58:30.043047', '2019-07-03 20:58:30.043047');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:58:30.048945', '2019-07-03 20:58:30.048945'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 20:58:30.048945', '2019-07-03 20:58:30.048945')[0m
  [1m[35m (4.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.4ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 20:58:30.148313"], ["updated_at", "2019-07-03 20:58:30.148313"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/:thermostat_id/readings" for 127.0.0.1 at 2019-07-03 20:58:30 +0000
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.3ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 21:01:40.957170', '2019-07-03 21:01:40.957170'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 21:01:40.957170', '2019-07-03 21:01:40.957170');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 21:01:40.965178', '2019-07-03 21:01:40.965178'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 21:01:40.965178', '2019-07-03 21:01:40.965178');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:01:40.968958', '2019-07-03 21:01:40.968958'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:01:40.968958', '2019-07-03 21:01:40.968958')[0m
  [1m[35m (5.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:01:41.068972"], ["updated_at", "2019-07-03 21:01:41.068972"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h12345/readings" for 127.0.0.1 at 2019-07-03 21:01:41 +0000
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (2.3ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 21:02:15.768045', '2019-07-03 21:02:15.768045'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 21:02:15.768045', '2019-07-03 21:02:15.768045');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 21:02:15.775828', '2019-07-03 21:02:15.775828'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 21:02:15.775828', '2019-07-03 21:02:15.775828');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:02:15.779706', '2019-07-03 21:02:15.779706'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:02:15.779706', '2019-07-03 21:02:15.779706')[0m
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:02:15.881690"], ["updated_at", "2019-07-03 21:02:15.881690"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h12345/readings" for 127.0.0.1 at 2019-07-03 21:02:15 +0000
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 21:03:00.772020', '2019-07-03 21:03:00.772020'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 21:03:00.772020', '2019-07-03 21:03:00.772020');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 21:03:00.780450', '2019-07-03 21:03:00.780450'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 21:03:00.780450', '2019-07-03 21:03:00.780450');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:03:00.784400', '2019-07-03 21:03:00.784400'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:03:00.784400', '2019-07-03 21:03:00.784400')[0m
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:03:00.890027"], ["updated_at", "2019-07-03 21:03:00.890027"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h12345/readings" for 127.0.0.1 at 2019-07-03 21:03:00 +0000
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.9ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 21:03:17.651645', '2019-07-03 21:03:17.651645'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 21:03:17.651645', '2019-07-03 21:03:17.651645');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 21:03:17.657978', '2019-07-03 21:03:17.657978'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 21:03:17.657978', '2019-07-03 21:03:17.657978');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:03:17.664383', '2019-07-03 21:03:17.664383'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:03:17.664383', '2019-07-03 21:03:17.664383')[0m
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.6ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:03:17.771045"], ["updated_at", "2019-07-03 21:03:17.771045"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h12345/readings" for 127.0.0.1 at 2019-07-03 21:03:17 +0000
  [1m[35m (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.7ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 21:03:58.935972', '2019-07-03 21:03:58.935972'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 21:03:58.935972', '2019-07-03 21:03:58.935972');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 21:03:58.941838', '2019-07-03 21:03:58.941838'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 21:03:58.941838', '2019-07-03 21:03:58.941838');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:03:58.947554', '2019-07-03 21:03:58.947554'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:03:58.947554', '2019-07-03 21:03:58.947554')[0m
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:03:59.043885"], ["updated_at", "2019-07-03 21:03:59.043885"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h12345/readings" for 127.0.0.1 at 2019-07-03 21:03:59 +0000
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.3ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 21:06:35.325888', '2019-07-03 21:06:35.325888'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 21:06:35.325888', '2019-07-03 21:06:35.325888');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 21:06:35.331063', '2019-07-03 21:06:35.331063'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 21:06:35.331063', '2019-07-03 21:06:35.331063');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:06:35.335338', '2019-07-03 21:06:35.335338'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:06:35.335338', '2019-07-03 21:06:35.335338')[0m
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:06:35.454706"], ["updated_at", "2019-07-03 21:06:35.454706"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.5ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 21:06:50.963720', '2019-07-03 21:06:50.963720'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 21:06:50.963720', '2019-07-03 21:06:50.963720');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 21:06:50.969626', '2019-07-03 21:06:50.969626'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 21:06:50.969626', '2019-07-03 21:06:50.969626');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:06:50.974819', '2019-07-03 21:06:50.974819'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:06:50.974819', '2019-07-03 21:06:50.974819')[0m
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
ReadingStatisticsControllerTest: test_should_destroy_reading_statistic
----------------------------------------------------------------------
  [1m[36mReadingStatistic Load (0.6ms)[0m  [1m[34mSELECT "reading_statistics".* FROM "reading_statistics" WHERE "reading_statistics"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "reading_statistics"[0m
Started DELETE "/reading_statistics/980190962" for 127.0.0.1 at 2019-07-03 21:06:51 +0000
Processing by ReadingStatisticsController#destroy as JSON
  Parameters: {"id"=>"980190962", "reading_statistic"=>{}}
  [1m[36mReadingStatistic Load (1.0ms)[0m  [1m[34mSELECT "reading_statistics".* FROM "reading_statistics" WHERE "reading_statistics"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReadingStatistic Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reading_statistics" WHERE "reading_statistics"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 7ms (ActiveRecord: 1.6ms | Allocations: 600)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "reading_statistics"[0m
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ReadingStatisticsControllerTest: test_should_create_reading_statistic
---------------------------------------------------------------------
  [1m[36mReadingStatistic Load (0.4ms)[0m  [1m[34mSELECT "reading_statistics".* FROM "reading_statistics" WHERE "reading_statistics"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reading_statistics"[0m
Started POST "/reading_statistics" for 127.0.0.1 at 2019-07-03 21:06:51 +0000
Processing by ReadingStatisticsController#create as JSON
  Parameters: {"reading_statistic"=>{"abattery_charge"=>1.5, "ahumidity"=>1.5, "atemperature"=>1.5, "max_battery_charge"=>1.5, "max_humidity"=>1.5, "max_temperature"=>1.5, "min_battery_charge"=>1.5, "min_humidity"=>1.5, "min_temperature"=>1.5, "number_of_readings"=>1, "sbattery_charge"=>1.5, "shumidity"=>1.5, "stemperature"=>1.5, "thermostat_id"=>1}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 52ms (Views: 0.6ms | ActiveRecord: 0.8ms | Allocations: 3849)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "reading_statistics"[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
ReadingStatisticsControllerTest: test_should_show_reading_statistic
-------------------------------------------------------------------
  [1m[36mReadingStatistic Load (0.4ms)[0m  [1m[34mSELECT "reading_statistics".* FROM "reading_statistics" WHERE "reading_statistics"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/reading_statistics/980190962" for 127.0.0.1 at 2019-07-03 21:06:51 +0000
Processing by ReadingStatisticsController#show as JSON
  Parameters: {"id"=>"980190962", "reading_statistic"=>{}}
  [1m[36mReadingStatistic Load (0.6ms)[0m  [1m[34mSELECT "reading_statistics".* FROM "reading_statistics" WHERE "reading_statistics"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.6ms | Allocations: 462)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
ReadingStatisticsControllerTest: test_should_update_reading_statistic
---------------------------------------------------------------------
  [1m[36mReadingStatistic Load (0.4ms)[0m  [1m[34mSELECT "reading_statistics".* FROM "reading_statistics" WHERE "reading_statistics"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/reading_statistics/980190962" for 127.0.0.1 at 2019-07-03 21:06:51 +0000
Processing by ReadingStatisticsController#update as JSON
  Parameters: {"reading_statistic"=>{"abattery_charge"=>1.5, "ahumidity"=>1.5, "atemperature"=>1.5, "max_battery_charge"=>1.5, "max_humidity"=>1.5, "max_temperature"=>1.5, "min_battery_charge"=>1.5, "min_humidity"=>1.5, "min_temperature"=>1.5, "number_of_readings"=>1, "sbattery_charge"=>1.5, "shumidity"=>1.5, "stemperature"=>1.5, "thermostat_id"=>1}, "id"=>"980190962"}
  [1m[36mReadingStatistic Load (0.4ms)[0m  [1m[34mSELECT "reading_statistics".* FROM "reading_statistics" WHERE "reading_statistics"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.2ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 5ms (Views: 0.4ms | ActiveRecord: 0.9ms | Allocations: 1481)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ReadingStatisticsControllerTest: test_should_get_index
------------------------------------------------------
  [1m[36mReadingStatistic Load (0.6ms)[0m  [1m[34mSELECT "reading_statistics".* FROM "reading_statistics" WHERE "reading_statistics"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/reading_statistics" for 127.0.0.1 at 2019-07-03 21:06:51 +0000
Processing by ReadingStatisticsController#index as JSON
  Parameters: {"reading_statistic"=>{}}
  [1m[36mReadingStatistic Load (0.4ms)[0m  [1m[34mSELECT "reading_statistics".* FROM "reading_statistics"[0m
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.4ms | Allocations: 687)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (2.0ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 21:07:21.962818', '2019-07-03 21:07:21.962818'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 21:07:21.962818', '2019-07-03 21:07:21.962818');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 21:07:21.973332', '2019-07-03 21:07:21.973332'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 21:07:21.973332', '2019-07-03 21:07:21.973332');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:07:21.980030', '2019-07-03 21:07:21.980030'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:07:21.980030', '2019-07-03 21:07:21.980030')[0m
  [1m[35m (5.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ReadingStatisticTest: test_should_create_a_record_
--------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:07:22.044401"], ["updated_at", "2019-07-03 21:07:22.044401"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.5ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mReadingStatistic Create (0.8ms)[0m  [1m[32mINSERT INTO "reading_statistics" ("thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16) RETURNING "id"[0m  [["thermostat_id", 980190963], ["number_of_readings", 1], ["stemperature", 1.5], ["shumidity", 1.5], ["sbattery_charge", 1.5], ["atemperature", 1.5], ["ahumidity", 1.5], ["abattery_charge", 1.5], ["max_temperature", 1.5], ["max_humidity", 1.5], ["max_battery_charge", 1.5], ["min_temperature", 1.5], ["min_humidity", 1.5], ["min_battery_charge", 1.5], ["created_at", "2019-07-03 21:07:22.142808"], ["updated_at", "2019-07-03 21:07:22.142808"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "reading_statistics"[0m
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
ReadingStatisticTest: test_should_not_create_if_thermostat_id_is_missing
------------------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
ThermostatTest: test_should_not_save_thermostats_without_household_token_and_location
-------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ThermostatTest: test_should_create_thermostat
---------------------------------------------
  [1m[35m (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:07:22.192092"], ["updated_at", "2019-07-03 21:07:22.192092"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (1.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
ThermostatTest: test_thermostat_count
-------------------------------------
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (8.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.4ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:07:22.298611"], ["updated_at", "2019-07-03 21:07:22.298611"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ThermostatsControllerTest: test_should_show_thermostat
------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 21:07:22.307356"], ["updated_at", "2019-07-03 21:07:22.307356"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h1234"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h1234"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:07:22.315373"], ["updated_at", "2019-07-03 21:07:22.315373"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h1234" for 127.0.0.1 at 2019-07-03 21:07:22 +0000
Processing by ThermostatsController#show as HTML
  Parameters: {"id"=>"h1234"}
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h1234"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 1.9ms | ActiveRecord: 0.3ms | Allocations: 644)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_update_thermostat
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.8ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 21:07:22.419112"], ["updated_at", "2019-07-03 21:07:22.419112"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h1236"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.8ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h1236"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:07:22.425545"], ["updated_at", "2019-07-03 21:07:22.425545"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/thermostats/h1236" for 127.0.0.1 at 2019-07-03 21:07:22 +0000
Processing by ThermostatsController#update as HTML
  Parameters: {"thermostat"=>{"household_token"=>"h1235", "location"=>{"city"=>"city1"}}, "id"=>"h1236"}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h1236"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 AND "thermostats"."id" != $2 LIMIT $3[0m  [["household_token", "h1235"], ["id", 980190969], ["LIMIT", 1]]
  [1m[36mThermostat Update (0.8ms)[0m  [1m[33mUPDATE "thermostats" SET "household_token" = $1, "location" = $2, "updated_at" = $3 WHERE "thermostats"."id" = $4[0m  [["household_token", "h1235"], ["location", "{\"city\":\"city1\"}"], ["updated_at", "2019-07-03 21:07:22.508518"], ["id", 980190969]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 0.8ms | ActiveRecord: 2.1ms | Allocations: 1468)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ThermostatsControllerTest: test_should_create_thermostat
--------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 21:07:22.524470"], ["updated_at", "2019-07-03 21:07:22.524470"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
Started POST "/thermostats" for 127.0.0.1 at 2019-07-03 21:07:22 +0000
Processing by ThermostatsController#create as JSON
  Parameters: {"thermostat"=>{"household_token"=>"h1235", "location"=>{"city"=>"city1"}}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h1235"], ["LIMIT", 1]]
  [1m[36mThermostat Create (1.0ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h1235"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 21:07:22.578136"], ["updated_at", "2019-07-03 21:07:22.578136"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 8ms (Views: 0.7ms | ActiveRecord: 1.7ms | Allocations: 1285)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ThermostatsControllerTest: test_should_destroy_thermostat
---------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.6ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 21:07:22.591575"], ["updated_at", "2019-07-03 21:07:22.591575"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
Started DELETE "/thermostats/h123" for 127.0.0.1 at 2019-07-03 21:07:22 +0000
Processing by ThermostatsController#destroy as HTML
  Parameters: {"id"=>"h123"}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Destroy (0.3ms)[0m  [1m[31mDELETE FROM "thermostats" WHERE "thermostats"."id" = $1[0m  [["id", 980190972]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 4ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 413)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "thermostats"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ThermostatsControllerTest: test_should_get_index
------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (1.1ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"city1\"}"], ["created_at", "2019-07-03 21:07:22.663093"], ["updated_at", "2019-07-03 21:07:22.663093"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats" for 127.0.0.1 at 2019-07-03 21:07:22 +0000
Processing by ThermostatsController#index as JSON
  Parameters: {"thermostat"=>{}}
  [1m[36mThermostat Load (0.5ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats"[0m
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.5ms | Allocations: 668)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ReadingTest: test_cannot_create_if_tracking_number_is_same
----------------------------------------------------------
  [1m[35m (3.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (3.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h1234"], ["LIMIT", 1]]
  [1m[36mThermostat Create (1.0ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h1234"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:07:22.744712"], ["updated_at", "2019-07-03 21:07:22.744712"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190974], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (0.5ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190974], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 21:07:22.758232"], ["updated_at", "2019-07-03 21:07:22.758232"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190974], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
ReadingTest: test_should_not_create_record_if_thermostat_is_missing
-------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReading Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
ReadingTest: test_create_reading_record
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h123"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h123"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:07:22.784398"], ["updated_at", "2019-07-03 21:07:22.784398"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190975], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (0.4ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190975], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 21:07:22.792188"], ["updated_at", "2019-07-03 21:07:22.792188"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings" WHERE "readings"."thermostat_id" = $1[0m  [["thermostat_id", 980190975]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------
ReadingTest: test_Reading_count
-------------------------------
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.8ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 21:31:06.443670', '2019-07-03 21:31:06.443670'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 21:31:06.443670', '2019-07-03 21:31:06.443670');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 21:31:06.449328', '2019-07-03 21:31:06.449328'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 21:31:06.449328', '2019-07-03 21:31:06.449328');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:31:06.455298', '2019-07-03 21:31:06.455298'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:31:06.455298', '2019-07-03 21:31:06.455298')[0m
  [1m[35m (5.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:31:06.589856"], ["updated_at", "2019-07-03 21:31:06.589856"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.7ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 21:31:14.526802', '2019-07-03 21:31:14.526802'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 21:31:14.526802', '2019-07-03 21:31:14.526802');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 21:31:14.533149', '2019-07-03 21:31:14.533149'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 21:31:14.533149', '2019-07-03 21:31:14.533149');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:31:14.540870', '2019-07-03 21:31:14.540870'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:31:14.540870', '2019-07-03 21:31:14.540870')[0m
  [1m[35m (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:31:14.635675"], ["updated_at", "2019-07-03 21:31:14.635675"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h12345/readings/" for 127.0.0.1 at 2019-07-03 21:31:14 +0000
Processing by ReadingsController#index as HTML
  Parameters: {"thermostat_id"=>"h12345"}
  [1m[36mThermostat Load (0.6ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mReading Load (1.0ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."thermostat_id" = $1[0m  [["thermostat_id", 980190963]]
Completed 200 OK in 22ms (Views: 7.2ms | ActiveRecord: 1.5ms | Allocations: 2418)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.4ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 21:31:22.549694', '2019-07-03 21:31:22.549694'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 21:31:22.549694', '2019-07-03 21:31:22.549694');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 21:31:22.558224', '2019-07-03 21:31:22.558224'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 21:31:22.558224', '2019-07-03 21:31:22.558224');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:31:22.561975', '2019-07-03 21:31:22.561975'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:31:22.561975', '2019-07-03 21:31:22.561975')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:31:22.666144"], ["updated_at", "2019-07-03 21:31:22.666144"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h12345/readings/" for 127.0.0.1 at 2019-07-03 21:31:22 +0000
Processing by ReadingsController#index as HTML
  Parameters: {"thermostat_id"=>"h12345"}
  [1m[36mThermostat Load (0.5ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."thermostat_id" = $1[0m  [["thermostat_id", 980190963]]
Completed 200 OK in 28ms (Views: 9.8ms | ActiveRecord: 0.8ms | Allocations: 2416)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.3ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 21:31:56.468331', '2019-07-03 21:31:56.468331'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 21:31:56.468331', '2019-07-03 21:31:56.468331');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 21:31:56.475434', '2019-07-03 21:31:56.475434'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 21:31:56.475434', '2019-07-03 21:31:56.475434');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:31:56.479943', '2019-07-03 21:31:56.479943'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:31:56.479943', '2019-07-03 21:31:56.479943')[0m
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ReadingsControllerTest: test_should_create_reading
--------------------------------------------------
  [1m[36mReading Load (0.6ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:31:56.600094"], ["updated_at", "2019-07-03 21:31:56.600094"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.5ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:31:56.720532"], ["updated_at", "2019-07-03 21:31:56.720532"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h12345/readings/" for 127.0.0.1 at 2019-07-03 21:31:56 +0000
Processing by ReadingsController#index as HTML
  Parameters: {"thermostat_id"=>"h12345"}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."thermostat_id" = $1[0m  [["thermostat_id", 980190964]]
Completed 200 OK in 22ms (Views: 7.2ms | ActiveRecord: 0.7ms | Allocations: 2410)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.7ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 21:32:17.913361', '2019-07-03 21:32:17.913361'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 21:32:17.913361', '2019-07-03 21:32:17.913361');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 21:32:17.921390', '2019-07-03 21:32:17.921390'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 21:32:17.921390', '2019-07-03 21:32:17.921390');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:32:17.925965', '2019-07-03 21:32:17.925965'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:32:17.925965', '2019-07-03 21:32:17.925965')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ReadingsControllerTest: test_should_create_reading
--------------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:32:18.040019"], ["updated_at", "2019-07-03 21:32:18.040019"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
Started POST "/thermostats/h12345/readings/" for 127.0.0.1 at 2019-07-03 21:32:18 +0000
Processing by ReadingsController#create as JSON
  Parameters: {"reading"=>{"battery_charge"=>1.5, "humidity"=>1.5, "temperature"=>1.5, "thermostat_id"=>1, "tracking_number"=>1}, "thermostat_id"=>"h12345"}
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
Completed 201 Created in 22ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 1225)
  [1m[35m (3.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.5ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.6ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:32:18.183183"], ["updated_at", "2019-07-03 21:32:18.183183"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h12345/readings/" for 127.0.0.1 at 2019-07-03 21:32:18 +0000
Processing by ReadingsController#index as HTML
  Parameters: {"thermostat_id"=>"h12345"}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mReading Load (0.9ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."thermostat_id" = $1[0m  [["thermostat_id", 980190964]]
Completed 200 OK in 37ms (Views: 18.0ms | ActiveRecord: 1.2ms | Allocations: 2086)
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (2.2ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 21:33:04.718007', '2019-07-03 21:33:04.718007'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 21:33:04.718007', '2019-07-03 21:33:04.718007');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 21:33:04.723851', '2019-07-03 21:33:04.723851'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 21:33:04.723851', '2019-07-03 21:33:04.723851');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:33:04.729290', '2019-07-03 21:33:04.729290'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:33:04.729290', '2019-07-03 21:33:04.729290')[0m
  [1m[35m (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ReadingsControllerTest: test_should_create_reading
--------------------------------------------------
  [1m[36mReading Load (0.9ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:33:04.832493"], ["updated_at", "2019-07-03 21:33:04.832493"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
Started POST "/thermostats/h12345/readings/" for 127.0.0.1 at 2019-07-03 21:33:04 +0000
Processing by ReadingsController#create as JSON
  Parameters: {"reading"=>{"battery_charge"=>1.5, "humidity"=>1.5, "temperature"=>1.5, "thermostat_id"=>1, "tracking_number"=>1}, "thermostat_id"=>"h12345"}
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
Completed 201 Created in 17ms (Views: 1.9ms | ActiveRecord: 0.3ms | Allocations: 1225)
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.5ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.9ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:33:04.947595"], ["updated_at", "2019-07-03 21:33:04.947595"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h12345/readings/" for 127.0.0.1 at 2019-07-03 21:33:04 +0000
Processing by ReadingsController#index as HTML
  Parameters: {"thermostat_id"=>"h12345"}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."thermostat_id" = $1[0m  [["thermostat_id", 980190964]]
Completed 200 OK in 53ms (Views: 6.2ms | ActiveRecord: 0.7ms | Allocations: 2090)
  [1m[35m (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 21:34:08.279361', '2019-07-03 21:34:08.279361'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 21:34:08.279361', '2019-07-03 21:34:08.279361');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 21:34:08.286536', '2019-07-03 21:34:08.286536'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 21:34:08.286536', '2019-07-03 21:34:08.286536');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:34:08.291384', '2019-07-03 21:34:08.291384'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:34:08.291384', '2019-07-03 21:34:08.291384')[0m
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ReadingsControllerTest: test_should_create_reading
--------------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:34:08.419188"], ["updated_at", "2019-07-03 21:34:08.419188"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
Started POST "/thermostats/h12345/readings/" for 127.0.0.1 at 2019-07-03 21:34:08 +0000
Processing by ReadingsController#create as JSON
  Parameters: {"reading"=>{"battery_charge"=>1.5, "humidity"=>1.5, "temperature"=>1.5, "thermostat_id"=>1, "tracking_number"=>1}, "thermostat_id"=>"h12345"}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
Completed 201 Created in 15ms (Views: 1.4ms | ActiveRecord: 0.4ms | Allocations: 1234)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "readings"[0m
  [1m[35m (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (1.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.9ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:34:08.534809"], ["updated_at", "2019-07-03 21:34:08.534809"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h12345/readings/" for 127.0.0.1 at 2019-07-03 21:34:08 +0000
Processing by ReadingsController#index as HTML
  Parameters: {"thermostat_id"=>"h12345"}
  [1m[36mThermostat Load (0.5ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mReading Load (0.4ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."thermostat_id" = $1[0m  [["thermostat_id", 980190964]]
Completed 200 OK in 21ms (Views: 6.6ms | ActiveRecord: 0.9ms | Allocations: 2089)
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.3ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 21:34:48.363371', '2019-07-03 21:34:48.363371'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 21:34:48.363371', '2019-07-03 21:34:48.363371');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 21:34:48.371117', '2019-07-03 21:34:48.371117'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 21:34:48.371117', '2019-07-03 21:34:48.371117');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:34:48.375499', '2019-07-03 21:34:48.375499'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:34:48.375499', '2019-07-03 21:34:48.375499')[0m
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.6ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:34:48.472344"], ["updated_at", "2019-07-03 21:34:48.472344"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h12345/readings/" for 127.0.0.1 at 2019-07-03 21:34:48 +0000
Processing by ReadingsController#index as HTML
  Parameters: {"thermostat_id"=>"h12345"}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."thermostat_id" = $1[0m  [["thermostat_id", 980190963]]
Completed 200 OK in 21ms (Views: 7.5ms | ActiveRecord: 0.7ms | Allocations: 2418)
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ReadingsControllerTest: test_should_create_reading
--------------------------------------------------
  [1m[36mReading Load (0.4ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:34:48.571382"], ["updated_at", "2019-07-03 21:34:48.571382"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/thermostats/h12345/readings/" for 127.0.0.1 at 2019-07-03 21:34:48 +0000
Processing by ReadingsController#create as JSON
  Parameters: {"reading"=>{"battery_charge"=>1.5, "humidity"=>1.5, "temperature"=>1.5, "thermostat_id"=>1, "tracking_number"=>1}, "thermostat_id"=>"h12345"}
  [1m[36mThermostat Load (0.5ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
Completed 201 Created in 19ms (Views: 2.0ms | ActiveRecord: 0.5ms | Allocations: 901)
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.3ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 21:35:07.256538', '2019-07-03 21:35:07.256538'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 21:35:07.256538', '2019-07-03 21:35:07.256538');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 21:35:07.262238', '2019-07-03 21:35:07.262238'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 21:35:07.262238', '2019-07-03 21:35:07.262238');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:35:07.266588', '2019-07-03 21:35:07.266588'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:35:07.266588', '2019-07-03 21:35:07.266588')[0m
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ReadingsControllerTest: test_should_show_reading
------------------------------------------------
  [1m[36mReading Load (0.4ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:35:07.369376"], ["updated_at", "2019-07-03 21:35:07.369376"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.5ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (1.3ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:35:07.433707"], ["updated_at", "2019-07-03 21:35:07.433707"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h12345/readings/" for 127.0.0.1 at 2019-07-03 21:35:07 +0000
Processing by ReadingsController#index as HTML
  Parameters: {"thermostat_id"=>"h12345"}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mReading Load (0.4ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."thermostat_id" = $1[0m  [["thermostat_id", 980190964]]
Completed 200 OK in 23ms (Views: 6.5ms | ActiveRecord: 0.8ms | Allocations: 2416)
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ReadingsControllerTest: test_should_create_reading
--------------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.6ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:35:07.546772"], ["updated_at", "2019-07-03 21:35:07.546772"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/thermostats/h12345/readings/" for 127.0.0.1 at 2019-07-03 21:35:07 +0000
Processing by ReadingsController#create as JSON
  Parameters: {"reading"=>{"battery_charge"=>1.5, "humidity"=>1.5, "temperature"=>1.5, "thermostat_id"=>1, "tracking_number"=>1}, "thermostat_id"=>"h12345"}
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
Completed 201 Created in 11ms (Views: 0.9ms | ActiveRecord: 0.3ms | Allocations: 901)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (3.1ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 21:35:57.769461', '2019-07-03 21:35:57.769461'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 21:35:57.769461', '2019-07-03 21:35:57.769461');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 21:35:57.774710', '2019-07-03 21:35:57.774710'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 21:35:57.774710', '2019-07-03 21:35:57.774710');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:35:57.780496', '2019-07-03 21:35:57.780496'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:35:57.780496', '2019-07-03 21:35:57.780496')[0m
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.7ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:35:57.907178"], ["updated_at", "2019-07-03 21:35:57.907178"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h12345/readings/" for 127.0.0.1 at 2019-07-03 21:35:57 +0000
Processing by ReadingsController#index as HTML
  Parameters: {"thermostat_id"=>"h12345"}
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."thermostat_id" = $1[0m  [["thermostat_id", 980190963]]
Completed 200 OK in 22ms (Views: 7.4ms | ActiveRecord: 0.6ms | Allocations: 2416)
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ReadingsControllerTest: test_should_show_reading
------------------------------------------------
  [1m[36mReading Load (0.4ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:35:58.013924"], ["updated_at", "2019-07-03 21:35:58.013924"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h12345/readings/1" for 127.0.0.1 at 2019-07-03 21:35:58 +0000
Processing by ReadingsController#show as JSON
  Parameters: {"thermostat_id"=>"h12345", "id"=>"1", "reading"=>{}}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mReading Load (0.2ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."tracking_number" = $1 AND "readings"."thermostat_id" = $2 LIMIT $3[0m  [["tracking_number", 1], ["thermostat_id", 980190964], ["LIMIT", 1]]
Filter chain halted as :set_reading rendered or redirected
Completed 404 Not Found in 5ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 683)
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ReadingsControllerTest: test_should_create_reading
--------------------------------------------------
  [1m[36mReading Load (0.7ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:35:58.090034"], ["updated_at", "2019-07-03 21:35:58.090034"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/thermostats/h12345/readings/" for 127.0.0.1 at 2019-07-03 21:35:58 +0000
Processing by ReadingsController#create as JSON
  Parameters: {"reading"=>{"battery_charge"=>1.5, "humidity"=>1.5, "temperature"=>1.5, "thermostat_id"=>1, "tracking_number"=>1}, "thermostat_id"=>"h12345"}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
Completed 201 Created in 15ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 895)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (4.2ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 21:38:08.643648', '2019-07-03 21:38:08.643648'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 21:38:08.643648', '2019-07-03 21:38:08.643648');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 21:38:08.650144', '2019-07-03 21:38:08.650144'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 21:38:08.650144', '2019-07-03 21:38:08.650144');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:38:08.656558', '2019-07-03 21:38:08.656558'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:38:08.656558', '2019-07-03 21:38:08.656558')[0m
  [1m[35m (4.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ReadingsControllerTest: test_should_create_reading
--------------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:38:08.780468"], ["updated_at", "2019-07-03 21:38:08.780468"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.5ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started POST "/thermostats/h12345/readings/" for 127.0.0.1 at 2019-07-03 21:38:08 +0000
Processing by ReadingsController#create as JSON
  Parameters: {"reading"=>{"battery_charge"=>1.5, "humidity"=>1.5, "temperature"=>1.5, "thermostat_id"=>1, "tracking_number"=>1}, "thermostat_id"=>"h12345"}
  [1m[36mThermostat Load (0.5ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
Completed 201 Created in 15ms (Views: 0.7ms | ActiveRecord: 0.5ms | Allocations: 1191)
  [1m[35m (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.6ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:38:08.930521"], ["updated_at", "2019-07-03 21:38:08.930521"]]
  [1m[35m (3.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (1.0ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mReading Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started GET "/thermostats/h12345/readings/" for 127.0.0.1 at 2019-07-03 21:38:08 +0000
Processing by ReadingsController#index as HTML
  Parameters: {"thermostat_id"=>"h12345"}
  [1m[36mThermostat Load (0.6ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mReading Load (0.7ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."thermostat_id" = $1[0m  [["thermostat_id", 980190964]]
Completed 200 OK in 16ms (Views: 2.7ms | ActiveRecord: 1.4ms | Allocations: 1302)
  [1m[35m (2.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ReadingsControllerTest: test_should_show_reading
------------------------------------------------
  [1m[36mReading Load (0.6ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.7ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:38:09.060040"], ["updated_at", "2019-07-03 21:38:09.060040"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190965], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started GET "/thermostats/h12345/readings/1" for 127.0.0.1 at 2019-07-03 21:38:09 +0000
Processing by ReadingsController#show as JSON
  Parameters: {"thermostat_id"=>"h12345", "id"=>"1", "reading"=>{}}
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."tracking_number" = $1 AND "readings"."thermostat_id" = $2 LIMIT $3[0m  [["tracking_number", 1], ["thermostat_id", 980190965], ["LIMIT", 1]]
Filter chain halted as :set_reading rendered or redirected
Completed 404 Not Found in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 676)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.1ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 21:38:50.564810', '2019-07-03 21:38:50.564810'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 21:38:50.564810', '2019-07-03 21:38:50.564810');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 21:38:50.573668', '2019-07-03 21:38:50.573668'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 21:38:50.573668', '2019-07-03 21:38:50.573668');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:38:50.577785', '2019-07-03 21:38:50.577785'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:38:50.577785', '2019-07-03 21:38:50.577785')[0m
  [1m[35m (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:38:50.693107"], ["updated_at", "2019-07-03 21:38:50.693107"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 5], ["LIMIT", 1]]
  [1m[36mReading Create (0.5ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190963], ["tracking_number", 5], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 21:38:50.714539"], ["updated_at", "2019-07-03 21:38:50.714539"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h12345/readings/" for 127.0.0.1 at 2019-07-03 21:38:50 +0000
Processing by ReadingsController#index as HTML
  Parameters: {"thermostat_id"=>"h12345"}
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."thermostat_id" = $1[0m  [["thermostat_id", 980190963]]
Completed 200 OK in 16ms (Views: 3.4ms | ActiveRecord: 0.6ms | Allocations: 1766)
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ReadingsControllerTest: test_should_show_reading
------------------------------------------------
  [1m[36mReading Load (0.8ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:38:50.841582"], ["updated_at", "2019-07-03 21:38:50.841582"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 5], ["LIMIT", 1]]
  [1m[36mReading Create (0.6ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190964], ["tracking_number", 5], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 21:38:50.848188"], ["updated_at", "2019-07-03 21:38:50.848188"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h12345/readings/5" for 127.0.0.1 at 2019-07-03 21:38:50 +0000
Processing by ReadingsController#show as JSON
  Parameters: {"thermostat_id"=>"h12345", "id"=>"5", "reading"=>{}}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mReading Load (0.5ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."tracking_number" = $1 AND "readings"."thermostat_id" = $2 LIMIT $3[0m  [["tracking_number", 5], ["thermostat_id", 980190964], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 1.1ms | ActiveRecord: 0.9ms | Allocations: 655)
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ReadingsControllerTest: test_should_create_reading
--------------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:38:50.913810"], ["updated_at", "2019-07-03 21:38:50.913810"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190965], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 5], ["LIMIT", 1]]
  [1m[36mReading Create (0.6ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190965], ["tracking_number", 5], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 21:38:50.922360"], ["updated_at", "2019-07-03 21:38:50.922360"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/thermostats/h12345/readings/" for 127.0.0.1 at 2019-07-03 21:38:50 +0000
Processing by ReadingsController#create as JSON
  Parameters: {"reading"=>{"battery_charge"=>1.5, "humidity"=>1.5, "temperature"=>1.5, "thermostat_id"=>1, "tracking_number"=>1}, "thermostat_id"=>"h12345"}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
Completed 201 Created in 11ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 904)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.1ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 21:38:58.749931', '2019-07-03 21:38:58.749931'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 21:38:58.749931', '2019-07-03 21:38:58.749931');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 21:38:58.757023', '2019-07-03 21:38:58.757023'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 21:38:58.757023', '2019-07-03 21:38:58.757023');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:38:58.761054', '2019-07-03 21:38:58.761054'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:38:58.761054', '2019-07-03 21:38:58.761054')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.7ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:38:58.882052"], ["updated_at", "2019-07-03 21:38:58.882052"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 5], ["LIMIT", 1]]
  [1m[36mReading Create (0.4ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190963], ["tracking_number", 5], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 21:38:58.905259"], ["updated_at", "2019-07-03 21:38:58.905259"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h12345/readings/" for 127.0.0.1 at 2019-07-03 21:38:58 +0000
Processing by ReadingsController#index as HTML
  Parameters: {"thermostat_id"=>"h12345"}
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."thermostat_id" = $1[0m  [["thermostat_id", 980190963]]
Completed 200 OK in 14ms (Views: 2.9ms | ActiveRecord: 0.6ms | Allocations: 1767)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ReadingsControllerTest: test_should_show_reading
------------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:38:58.990861"], ["updated_at", "2019-07-03 21:38:58.990861"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 5], ["LIMIT", 1]]
  [1m[36mReading Create (0.4ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190964], ["tracking_number", 5], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 21:38:58.996714"], ["updated_at", "2019-07-03 21:38:58.996714"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h12345/readings/5" for 127.0.0.1 at 2019-07-03 21:38:59 +0000
Processing by ReadingsController#show as JSON
  Parameters: {"thermostat_id"=>"h12345", "id"=>"5", "reading"=>{}}
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."tracking_number" = $1 AND "readings"."thermostat_id" = $2 LIMIT $3[0m  [["tracking_number", 5], ["thermostat_id", 980190964], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.6ms | Allocations: 655)
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ReadingsControllerTest: test_should_create_reading
--------------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:38:59.059292"], ["updated_at", "2019-07-03 21:38:59.059292"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190965], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 5], ["LIMIT", 1]]
  [1m[36mReading Create (0.5ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190965], ["tracking_number", 5], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 21:38:59.064675"], ["updated_at", "2019-07-03 21:38:59.064675"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/thermostats/h12345/readings/" for 127.0.0.1 at 2019-07-03 21:38:59 +0000
Processing by ReadingsController#create as JSON
  Parameters: {"reading"=>{"battery_charge"=>1.5, "humidity"=>1.5, "temperature"=>1.5, "thermostat_id"=>1, "tracking_number"=>1}, "thermostat_id"=>"h12345"}
  [1m[36mThermostat Load (0.6ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
Completed 201 Created in 12ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 904)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.4ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 21:39:15.860443', '2019-07-03 21:39:15.860443'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 21:39:15.860443', '2019-07-03 21:39:15.860443');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 21:39:15.865169', '2019-07-03 21:39:15.865169'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 21:39:15.865169', '2019-07-03 21:39:15.865169');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:39:15.869428', '2019-07-03 21:39:15.869428'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:39:15.869428', '2019-07-03 21:39:15.869428')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ReadingsControllerTest: test_should_create_reading
--------------------------------------------------
  [1m[36mReading Load (0.4ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:39:15.978164"], ["updated_at", "2019-07-03 21:39:15.978164"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (0.5ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190963], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 21:39:16.000640"], ["updated_at", "2019-07-03 21:39:16.000640"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/thermostats/h12345/readings/" for 127.0.0.1 at 2019-07-03 21:39:16 +0000
Processing by ReadingsController#create as JSON
  Parameters: {"reading"=>{"battery_charge"=>1.5, "humidity"=>1.5, "temperature"=>1.5, "thermostat_id"=>1, "tracking_number"=>1}, "thermostat_id"=>"h12345"}
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
Completed 201 Created in 18ms (Views: 5.7ms | ActiveRecord: 0.3ms | Allocations: 1191)
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.5ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (1.1ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:39:16.116163"], ["updated_at", "2019-07-03 21:39:16.116163"]]
  [1m[35m (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.9ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mReading Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (1.2ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190964], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 21:39:16.146922"], ["updated_at", "2019-07-03 21:39:16.146922"]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h12345/readings/" for 127.0.0.1 at 2019-07-03 21:39:16 +0000
Processing by ReadingsController#index as HTML
  Parameters: {"thermostat_id"=>"h12345"}
  [1m[36mThermostat Load (0.6ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mReading Load (0.4ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."thermostat_id" = $1[0m  [["thermostat_id", 980190964]]
Completed 200 OK in 18ms (Views: 3.6ms | ActiveRecord: 1.0ms | Allocations: 1474)
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ReadingsControllerTest: test_should_show_reading
------------------------------------------------
  [1m[36mReading Load (0.9ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:39:16.287871"], ["updated_at", "2019-07-03 21:39:16.287871"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190965], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (0.7ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190965], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 21:39:16.294155"], ["updated_at", "2019-07-03 21:39:16.294155"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h12345/readings/3" for 127.0.0.1 at 2019-07-03 21:39:16 +0000
Processing by ReadingsController#show as JSON
  Parameters: {"thermostat_id"=>"h12345", "id"=>"3", "reading"=>{}}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."tracking_number" = $1 AND "readings"."thermostat_id" = $2 LIMIT $3[0m  [["tracking_number", 3], ["thermostat_id", 980190965], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 0.7ms | Allocations: 649)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 21:39:31.637064', '2019-07-03 21:39:31.637064'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 21:39:31.637064', '2019-07-03 21:39:31.637064');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 21:39:31.643259', '2019-07-03 21:39:31.643259'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 21:39:31.643259', '2019-07-03 21:39:31.643259');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:39:31.647858', '2019-07-03 21:39:31.647858'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:39:31.647858', '2019-07-03 21:39:31.647858')[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ReadingsControllerTest: test_should_create_reading
--------------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.6ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:39:31.747699"], ["updated_at", "2019-07-03 21:39:31.747699"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.5ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (0.5ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190963], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 21:39:31.773408"], ["updated_at", "2019-07-03 21:39:31.773408"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/thermostats/h12345/readings/" for 127.0.0.1 at 2019-07-03 21:39:31 +0000
Processing by ReadingsController#create as JSON
  Parameters: {"reading"=>{"battery_charge"=>1.5, "humidity"=>1.5, "temperature"=>1.5, "thermostat_id"=>1, "tracking_number"=>1}, "thermostat_id"=>"h12345"}
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
Completed 201 Created in 18ms (Views: 2.1ms | ActiveRecord: 0.3ms | Allocations: 1191)
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ReadingsControllerTest: test_should_show_reading
------------------------------------------------
  [1m[36mReading Load (1.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:39:31.890862"], ["updated_at", "2019-07-03 21:39:31.890862"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.5ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (3.3ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190964], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 21:39:31.902316"], ["updated_at", "2019-07-03 21:39:31.902316"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h12345/readings/3" for 127.0.0.1 at 2019-07-03 21:39:31 +0000
Processing by ReadingsController#show as JSON
  Parameters: {"thermostat_id"=>"h12345", "id"=>"3", "reading"=>{}}
  [1m[36mThermostat Load (0.8ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mReading Load (0.7ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."tracking_number" = $1 AND "readings"."thermostat_id" = $2 LIMIT $3[0m  [["tracking_number", 3], ["thermostat_id", 980190964], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 1.5ms | Allocations: 667)
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (0.8ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:39:32.011755"], ["updated_at", "2019-07-03 21:39:32.011755"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.6ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190965], ["LIMIT", 1]]
  [1m[36mReading Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (0.8ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190965], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 21:39:32.021640"], ["updated_at", "2019-07-03 21:39:32.021640"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h12345/readings/" for 127.0.0.1 at 2019-07-03 21:39:32 +0000
Processing by ReadingsController#index as HTML
  Parameters: {"thermostat_id"=>"h12345"}
  [1m[36mThermostat Load (0.3ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."thermostat_id" = $1[0m  [["thermostat_id", 980190965]]
Completed 200 OK in 14ms (Views: 4.6ms | ActiveRecord: 0.7ms | Allocations: 1455)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reading_statistics" DISABLE TRIGGER ALL;ALTER TABLE "readings" DISABLE TRIGGER ALL;ALTER TABLE "thermostats" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (1.4ms)[0m  [1m[31mDELETE FROM "thermostats";
DELETE FROM "readings";
DELETE FROM "reading_statistics";
INSERT INTO "thermostats" ("id", "household_token", "location", "created_at", "updated_at") VALUES (980190962, 'MyText', '{"city":"city1"}', '2019-07-03 21:48:07.483718', '2019-07-03 21:48:07.483718'), (298486374, 'MyText', '{"city":"city2"}', '2019-07-03 21:48:07.483718', '2019-07-03 21:48:07.483718');
INSERT INTO "readings" ("id", "thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, '2019-07-03 21:48:07.491324', '2019-07-03 21:48:07.491324'), (298486374, 1, 2, 1.5, 1.5, 1.5, '2019-07-03 21:48:07.491324', '2019-07-03 21:48:07.491324');
INSERT INTO "reading_statistics" ("id", "thermostat_id", "number_of_readings", "stemperature", "shumidity", "sbattery_charge", "atemperature", "ahumidity", "abattery_charge", "max_temperature", "max_humidity", "max_battery_charge", "min_temperature", "min_humidity", "min_battery_charge", "created_at", "updated_at") VALUES (980190962, 1, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:48:07.495791', '2019-07-03 21:48:07.495791'), (298486374, 2, 1, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, '2019-07-03 21:48:07.495791', '2019-07-03 21:48:07.495791')[0m
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "reading_statistics" ENABLE TRIGGER ALL;ALTER TABLE "readings" ENABLE TRIGGER ALL;ALTER TABLE "thermostats" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ReadingsControllerTest: test_should_create_reading
--------------------------------------------------
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.4ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:48:07.594458"], ["updated_at", "2019-07-03 21:48:07.594458"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.5ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (0.6ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190963], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 21:48:07.615896"], ["updated_at", "2019-07-03 21:48:07.615896"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/thermostats/h12345/readings/" for 127.0.0.1 at 2019-07-03 21:48:07 +0000
Processing by ReadingsController#create as JSON
  Parameters: {"reading"=>{"battery_charge"=>1.5, "humidity"=>1.5, "temperature"=>1.5}, "thermostat_id"=>"h12345"}
  [1m[36mThermostat Load (0.5ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
Completed 201 Created in 14ms (Views: 0.4ms | ActiveRecord: 0.5ms | Allocations: 1171)
  [1m[35m (2.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
ReadingsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mReading Load (2.6ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:48:07.730701"], ["updated_at", "2019-07-03 21:48:07.730701"]]
  [1m[35m (7.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.5ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (1.4ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190964], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 21:48:07.749424"], ["updated_at", "2019-07-03 21:48:07.749424"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h12345/readings/" for 127.0.0.1 at 2019-07-03 21:48:07 +0000
Processing by ReadingsController#index as HTML
  Parameters: {"thermostat_id"=>"h12345"}
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."thermostat_id" = $1[0m  [["thermostat_id", 980190964]]
Completed 200 OK in 16ms (Views: 4.0ms | ActiveRecord: 0.7ms | Allocations: 1473)
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ReadingsControllerTest: test_should_show_reading
------------------------------------------------
  [1m[36mReading Load (0.9ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mThermostat Create (0.5ms)[0m  [1m[32mINSERT INTO "thermostats" ("household_token", "location", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["household_token", "h12345"], ["location", "{\"city\":\"hyderabad\"}"], ["created_at", "2019-07-03 21:48:07.866143"], ["updated_at", "2019-07-03 21:48:07.866143"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."id" = $1 LIMIT $2[0m  [["id", 980190965], ["LIMIT", 1]]
  [1m[36mReading Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "readings" WHERE "readings"."tracking_number" = $1 LIMIT $2[0m  [["tracking_number", 3], ["LIMIT", 1]]
  [1m[36mReading Create (0.7ms)[0m  [1m[32mINSERT INTO "readings" ("thermostat_id", "tracking_number", "temperature", "humidity", "battery_charge", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["thermostat_id", 980190965], ["tracking_number", 3], ["temperature", 1.5], ["humidity", 1.5], ["battery_charge", 1.5], ["created_at", "2019-07-03 21:48:07.876694"], ["updated_at", "2019-07-03 21:48:07.876694"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/thermostats/h12345/readings/3" for 127.0.0.1 at 2019-07-03 21:48:07 +0000
Processing by ReadingsController#show as JSON
  Parameters: {"thermostat_id"=>"h12345", "id"=>"3", "reading"=>{}}
  [1m[36mThermostat Load (0.5ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats" WHERE "thermostats"."household_token" = $1 LIMIT $2[0m  [["household_token", "h12345"], ["LIMIT", 1]]
  [1m[36mReading Load (0.3ms)[0m  [1m[34mSELECT "readings".* FROM "readings" WHERE "readings"."tracking_number" = $1 AND "readings"."thermostat_id" = $2 LIMIT $3[0m  [["tracking_number", 3], ["thermostat_id", 980190965], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 0.7ms | Allocations: 649)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Started GET "/thermostats" for 10.0.2.2 at 2019-07-03 21:52:28 +0000
Processing by ThermostatsController#index as HTML
  [1m[36mThermostat Load (0.6ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats"[0m
Completed 200 OK in 158ms (Views: 46.3ms | ActiveRecord: 16.9ms | Allocations: 19607)
Started GET "/" for 10.0.2.2 at 2019-07-03 21:52:42 +0000
Started GET "/thermostats" for 10.0.2.2 at 2019-07-03 21:53:10 +0000
Processing by ThermostatsController#index as HTML
  [1m[36mThermostat Load (0.4ms)[0m  [1m[34mSELECT "thermostats".* FROM "thermostats"[0m
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.4ms | Allocations: 518)
